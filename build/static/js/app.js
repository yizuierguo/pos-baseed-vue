webpackJsonp([0],[,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default={getCookie:function(t){var e,i=new RegExp("(^| )"+t+"=([^;]+)(;|$)");if(e=document.cookie.match(i))return e[2]},extend:function(t,e){if(!e||"object"!==(void 0===e?"undefined":s(e)))return t;for(var i=Object.keys(e),a=i.length;a--;)t[i[a]]=e[i[a]];return t},getLionUrl:function(t){return"http://"+document.domain+t},getOuterUrl:function(t){return~location.host.indexOf("dev.")||~location.host.indexOf("daily.")?"http://daily.52shangou.com"+t:~location.host.indexOf("gray.")?"http://gray.52shangou.com"+t:"http://www.52shangou.com"+t},getUrlParam:function(t){var e={},a=location.search.substr(1).split("&");for(i in a){var s=a[i].indexOf("=");-1!=s&&(e[a[i].substr(0,s)]=decodeURIComponent(a[i].substr(s+1,a[i].length)))}return e[t]},getAllUrlParam:function(){var t={},e=location.search.substr(1).split("&");for(i in e){var a=e[i].indexOf("=");-1!=a&&(t[e[i].substr(0,a)]=decodeURIComponent(e[i].substr(a+1,e[i].length)))}return t},setAllUrlParam:function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e+=encodeURIComponent(i)+"="+encodeURIComponent(t[i])+"&");return e.length&&(e=e.slice(0,e.length-1)),e},getLocalPath:function(t){return location.hostname.indexOf("dev")>-1?t:"/crm/www/goodscenter"+t},htmlspecialchars:function(t){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","&":"&amp;"};return t.replace(/[><&"']/g,function(t){return e[t]})},login:{isLogin:function(){return!!util.getCookie("_uk")},goLogin:function(){var t=util.getPrefix();if(window.refreshPage=function(){location.reload()},Bridge.isInApp()&&Bridge.appVersion()>="3.0.0")return void Bridge.callAsync("unLogin");location.href=t+"/user/login.html?redirect="+encodeURIComponent(location.href)}},formatMobile:function(t,e){var i=/^(\d{3})(\d{4})(\d{4})$/;return t+="",e=e||"-",i.test(t)?t.replace(i,"$1"+e+"$2"+e+"$3"):t},getDayStartAndEnd:function(t){var e,i=this,a=i.formatDate("YYYY-MM-DD",t,"/");return e=+new Date(a+" 00:00:00"),{startTime:e,endTime:e+864e5}},formatDateNew:function(t,e){if(!t)return"";var i=new Date(t),a=function(t){return(t<10?"0":"")+t};return e.replace(/yyyy|MM|dd|HH|mm|ss/g,function(t){switch(t){case"yyyy":return a(i.getFullYear());case"MM":return a(i.getMonth()+1);case"dd":return a(i.getDate());case"HH":return a(i.getHours());case"mm":return a(i.getMinutes());case"ss":return a(i.getSeconds())}})},formatDate:function(t,e,i){var a="",s=e?new Date(e):new Date,r=s.getFullYear(),n=s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1,o=s.getDate()<10?"0"+s.getDate():s.getDate(),c=s.getHours()<10?"0"+s.getHours():s.getHours(),l=s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes(),u=s.getSeconds()<10?"0"+s.getSeconds():s.getSeconds(),d=i;switch(i||(i="-"),t){case"Ch-zh":a=r+"年"+n+"月"+o+"日";break;case"Ch-zh-MM-DD":a=n+"月"+o+"日";break;case"YYYY-MM-DD HH:mm:ss":a=r+i+n+i+o+" "+c+":"+l+":"+u;break;case"YYYY-MM-DD":a=r+i+n+i+o;break;case"MM-DD":a=n+i+o;break;case"HH:mm":a=c+(d||":")+l;break;default:a=s}return a},formatSeg:function(t){return t+="",t.replace(/(\d)(?=(\d{3})+\b)/g,"$1,")},formatPrice:function(t,e,i,a){var s,r,n,o,c=!1;for(t||(t=0),e=e>=0&&e<=20?e:2,t<0&&(c=!0,t=Math.abs(t)),t=parseFloat(t/100).toFixed(e),s=t.split("."),r=(s[0]||0).toString(),n=(s[1]||"").toString(),o="";r.length>3;)o=","+r.slice(-3)+o,r=r.slice(0,r.length-3);return r&&(o=r+o),n&&(o+="."+n),i&&(o=i+o),c&&(a||(a="-"),o=a+o),o},formatRmb:function(t,e){return(t/100).toFixed(e||2)},formatCardNum:function(t){t=t.toString();var e=t.slice(0,4),i=t.slice(t.length-4,t.length);return e+"****"+i},buildQuery:function(t,e,i){var a,s="";i||(s+="&page=new-app-page");for(a in e)e.hasOwnProperty(a)&&(s+="&"+a+"="+encodeURIComponent(e[a]));return s=i&&!Object.keys(e)?t:t+"?"+s.slice(1)},getEnv:function(){var t=location.host,e="www";return/daily|dev/.test(t)?e="daily":/gray/.test(t)&&(e="gray"),e},substitute:function(t,e){return t.replace(/{(.*?)}/gim,function(t,i){return e[i]?e[i]:""})},getNextDay:function(t,e){var i=new Array;i=t.split("-");var a=i[0],s=i[1],r=i[2],n=new Date(a,s-1,r),o=n.getTime()+864e5*e,c=new Date;c.setTime(o);var l=c.getFullYear(),u=c.getDate();u<10&&(u="0"+u);var d=c.getMonth()+1;return d<10&&(d="0"+d),l+"-"+d+"-"+u},checkMobileNum:function(t){return!!/^0?1[3|4|5|7|8][0-9]\d{8}$/.test(t)},floorNum:function(t){if(this.checkPointTwo(t))return 10*Math.floor(parseInt(t)/10)},isPositiveInteger:function(t){return/^([1-9]\d*)$/.test(t)},isValidBarcode:function(t){return/^([0-9]\d*)$/.test(t)},isPositiveNumber:function(t){return $.isNumeric(t)&&parseFloat(t)>=0},isGreaterZero:function(t){return $.isNumeric(t)&&parseFloat(t)>0},isTwoDecimalsPlace:function(t){return/^\d{1,4}(\.\d{1,2})?$/.test(t)},checkPointTwo:function(t){return/^\d+(\.\d{1,2})?$/g.test(t)},wipingZero:function(t){var e=(t/100).toFixed(2),i=e.split(".");return i[1]?100*(i[1].substring(0,1)<=5?i[0]+".0":i[0]+".5"):t},change:function(t,e){var i=1*e-1*t;if(i>0)return i},toast:function(t,e,i,a){var s={succeed:"toast-icon-ok",failed:"toast-icon-false",notice:"toast-icon-notice"};if(!document.getElementById("J_Toast")){var r=s[e]?s[e]:"toast-icon-"+e,n=document.createElement("div");n.id="J_Toast",n.className="toast",n.innerHTML='<div class="toast-cont">   <i class="toast-icon '+r+'"></i>   <p class="toast-text">'+t+"</p></div>",document.body.appendChild(n),i&&clearTimeout(i),setTimeout(function(){var t=document.getElementById("J_Toast");t.parentNode.removeChild(t),a&&a()},i)}}}},,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(127),s=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default={login:function(t,e,i){try{return window.debug?JSON.stringify(s.default.login()):JSON.parse(eleph.service.serviceApi_UserService_login(String(t),String(e),String(i)))}catch(t){}},queryLoginUserList:function(){try{return window.debug?s.default.queryLoginUserList():JSON.parse(eleph.service.serviceApi_UserService_queryAllUserList())}catch(t){}},queryPrintDeviceList:function(){try{return window.debug?JSON.stringify(s.default.queryPrintDeviceList()):JSON.parse(eleph.service.serviceApi_PrintService_queryPrintDeviceList())}catch(t){console.log(t)}},updateConfig:function(t){try{return window.debug?JSON.stringify(s.default.updateConfig()):JSON.parse(eleph.service.serviceApi_ConfigService_updateConfig(JSON.stringify(t)))}catch(t){console.log(t)}},queryItemByBarcode:function(t){try{return window.debug?s.default.queryItemByBarcode():JSON.parse(eleph.service.serviceApi_ItemService_queryItemByBarcode(t))}catch(t){}},deleteItemById:function(t){try{return window.debug?s.default.deleteItemById():JSON.parse(eleph.service.serviceApi_ItemService_deleteItem(t))}catch(t){}},getVipInfo:function(t){try{return window.debug?s.default.getVipInfo():JSON.parse(eleph.service.serviceApi_MemberService_queryMember(t))}catch(t){}},payOrder:function(t,e){try{return window.debug?s.default.payOrder():JSON.parse(eleph.service.serviceApi_PayService_payOrder(String(t),JSON.stringify(e)))}catch(t){}},cancelOrder:function(t){try{return JSON.parse(eleph.service.serviceApi_PayService_cancelPay(String(t)))}catch(t){}},loopCheckPayStatus:function(t){try{return window.debug?s.default.payOrder():JSON.parse(eleph.service.serviceApi_PayService_checkPayStatus(String(t)))}catch(t){}},miniWin:function(){try{eleph.ui.homePage_min()}catch(t){}},getShiftUsers:function(){try{return window.debug?s.default.getShiftUsers():JSON.parse(eleph.service.serviceApi_ShiftHandoverService_getShiftUsers())}catch(t){}},goShift:function(t,e){try{return window.debug?s.default.goShift():JSON.parse(eleph.service.serviceApi_ShiftHandoverService_shift(t,e))}catch(t){}},queryLoginUserInfo:function(){try{return window.debug?s.default.queryLoginUserInfo():JSON.parse(eleph.service.serviceApi_UserService_queryLoginUserInfo())}catch(t){}},unlockpos:function(t){try{return window.debug?s.default.unlockpos():JSON.parse(eleph.service.serviceApi_LockedService_unlock(t))}catch(t){}},getShopInfo:function(){try{return window.debug?s.default.getShopInfo():JSON.parse(eleph.service.serviceApi_ConfigService_queryConfig())}catch(t){}},getReportInfo:function(){try{return window.debug?s.default.getReportInfo():JSON.parse(eleph.service.serviceApi_EarningsService_getEarning())}catch(t){}},getOrderByRuler:function(t){try{return window.debug?s.default.getOrderByRuler():JSON.parse(eleph.service.serviceApi_BizOrderService_queryBizOrderWithSubOrderByCondition(t))}catch(t){}},updateItemPrice:function(t,e){try{return JSON.parse(eleph.service.serviceApi_ItemService_updateItemPrice(String(t),String(e)))}catch(t){}},createOnlineItem:function(t){try{return window.debug?s.default.createOnlineItem():JSON.parse(eleph.service.serviceApi_ItemService_createItemForNewItem(JSON.stringify(t)))}catch(t){console.log(t)}},queryLastShiftHandover:function(){try{return window.debug?s.default.queryLastShiftHandover():JSON.parse(eleph.service.serviceApi_ShiftHandoverService_getPrintShiftReceiptData())}catch(t){console.log(t)}},isBindAlipayAccount:function(){try{return window.debug?s.default.isBindAlipayAccount():JSON.parse(eleph.service.serviceApi_PayService_isBindAlipayAccount())}catch(t){console.log(t)}}}},function(t,e,i){i(97);var a=i(0)(i(107),i(68),"data-v-a918edca",null);t.exports=a.exports},function(t,e,i){"use strict";function a(t,e){try{if(e&&"test"===e){var i=d();eleph.service.serviceApi_PrintService_printForTest(JSON.stringify(t),String(i))}else if(e&&"dayreport"===e){var i=p(t);eleph.service.serviceApi_PrintService_printContent(i)}else if(e&&"nextshift"===e){var i=f(t);eleph.service.serviceApi_PrintService_printContent(i)}else if(e&&"reprintorder"===e){var i=v(t);eleph.service.serviceApi_PrintService_printContent(i)}}catch(t){console.log(t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var s=i(1),r=function(t){return t&&t.__esModule?t:{default:t}}(s),n=function(t,e){return"f1"!=e&&e?"f2"==e?t.replace(/[^\x00-\xff]/g,"aa").length:"f3"==e?2*t.replace(/[^\x00-\xff]/g,"aa").length:void 0:t.replace(/[^\x00-\xff]/g,"aa").length},o=function(t,e,i){if(n(t,i)<=32){var a=(32-n(t,i))/2;return l(e,a)+t+l(e,a)}return t},c=function(t,e,i,a,s){if(n(t,s)<e){var r=e-n(t,s);if("L"==a.toLocaleUpperCase()||!a)return l(i,r)+t;if("R"==a.toLocaleUpperCase())return t+l(i,r)}else if(n(t,s)==e)return t},l=function(t,e){for(var i="",a=1;a<=e;a++)i+=t;return i},u=function(t,e){var i="";if(0===t){for(var a=0;a<e;a++)i+="-";return i}for(var s=0;s<t;s++)for(var r=0;r<32;r++)i+="-";return i},d=function(){var t="";return t+="#{f2}"+o("小票打印测试"," ")+"\n\n#{f1}"+u(1)+"\n\n#{f3}"+o("测试成功"," ","f3")+"\n#{f3}"+o("可以开始使用啦"," ","f3")+"\n\n\n\n\n\n"},p=function(t){var e=t.report?String(t.report.sequence):"",i=t.report?r.default.formatDateNew((new Date).getTime(),"yyyy-MM-dd HH:mm:ss"):"",a=t.report?String(t.report.totalOrderAmount):"",s=t.report?String(t.report.totalItemAmount):"",n=t.report?String(r.default.formatRmb(t.report.totalPrice,2)):"",l=t.report?String(r.default.formatRmb(t.report.cashPrice,2)):"",d=t.report?String(r.default.formatRmb(t.report.alipayPrice,2)):"",p=t.report?String(r.default.formatRmb(t.report.weixinPrice,2)):"",f=t.report?String(r.default.formatRmb(t.report.bankCardPrice,2)):"",v=t.report?String(r.default.formatRmb(t.report.cityZenCardPrice,2)):"",m=t.report?String(r.default.formatRmb(t.report.savingsCardPrice,2)):"",h=t.report?String(r.default.formatRmb(t.report.invoicePrice,2)):"",_="#{f3}\n\n\n\n";return _+="#{f3}"+o(t.shop," ","f3")+"\n",_+="#{f2}"+o("---收银日结小票---"," ","f2")+"\n",_+="#{f1}收银员:"+c(t.user,18," ","R","f1")+"机号:"+e+"\n",_+="#{f1}打印时间:"+c(i,22," ","L","f1")+"\n",_+="#{f1}"+u(1)+"\n",_+="#{f1}订单总数量:"+c(a,20," ","L","f1")+"\n",_+="#{f1}商品总数量:"+c(s,20," ","L","f1")+"\n",_+="#{f1}收款汇总明细：\n",_+="#{f1}现金:"+c(l,27," ","L","f1")+"\n",_+="#{f1}支付宝:"+c(d,25," ","L","f1")+"\n",_+="#{f1}微信:"+c(p,27," ","L","f1")+"\n",_+="#{f1}银行卡:"+c(f,25," ","L","f1")+"\n",_+="#{f1}市民卡:"+c(v,25," ","L","f1")+"\n",_+="#{f1}储值卡:"+c(m,25," ","L","f1")+"\n",_+="#{f1}发票:"+c(h,27," ","L","f1")+"\n",_+="#{f1}总金额:"+c(n,25," ","L","f1")+"\n",_+="#{f1}"+u(1)+"\n",_+="#{f1}收银员签字:\n",_+="#{f3}\n\n\n\n\n\n"},f=function(t){var e=t.report?String(t.report.sequence):"",i=t.report?r.default.formatDateNew((new Date).getTime(),"yyyy-MM-dd HH:mm:ss"):"",a=t.report?String(t.report.totalOrderAmount):"",s=t.report?String(t.report.totalItemAmount):"",n=t.report?String(r.default.formatRmb(t.report.totalPrice,2)):"",l=t.report?String(r.default.formatRmb(t.report.cashPrice,2)):"",d=t.report?String(r.default.formatRmb(t.report.alipayPrice,2)):"",p=t.report?String(r.default.formatRmb(t.report.weixinPrice,2)):"",f=t.report?String(r.default.formatRmb(t.report.bankCardPrice,2)):"",v=t.report?String(r.default.formatRmb(t.report.cityZenCardPrice,2)):"",m=t.report?String(r.default.formatRmb(t.report.savingsCardPrice,2)):"",h=t.report?String(r.default.formatRmb(t.report.invoicePrice,2)):"",_=t.curshift?"000"+t.curshift:"",g="#{f3}\n\n\n\n";return g+="#{f3}"+o(t.shop," ","f3")+"\n",g+="#{f2}"+o("---班次收银小票---"," ","f2")+"\n",g+="#{f1}当前班次:"+_+"\n",g+="#{f1}收银员:"+c(t.user,18," ","R","f1")+"机号:"+e+"\n",g+="#{f1}打印时间:"+c(i,22," ","L","f1")+"\n",g+="#{f1}"+u(1)+"\n",g+="#{f1}订单总数量:"+c(a,20," ","L","f1")+"\n",g+="#{f1}商品总数量:"+c(s,20," ","L","f1")+"\n",g+="#{f1}收款汇总明细：\n",g+="#{f1}现金:"+c(l,27," ","L","f1")+"\n",g+="#{f1}支付宝:"+c(d,25," ","L","f1")+"\n",g+="#{f1}微信:"+c(p,27," ","L","f1")+"\n",g+="#{f1}银行卡:"+c(f,25," ","L","f1")+"\n",g+="#{f1}市民卡:"+c(v,25," ","L","f1")+"\n",g+="#{f1}储值卡:"+c(m,25," ","L","f1")+"\n",g+="#{f1}发票:"+c(h,27," ","L","f1")+"\n",g+="#{f1}总金额:"+c(n,25," ","L","f1")+"\n",g+="#{f1}"+u(1)+"\n",g+="#{f1}交班签字:\n",g+="#{f3}\n\n\n\n\n",g+="#{f1}换班签字:\n",g+="#{f3}\n\n\n\n\n\n\n",console.log(g),g},v=function(t){var e=t.report?String(t.report.sequence):"",i=t.entry?r.default.formatDateNew(parseInt(t.entry[0].bizOrder.gmtCreate),"yyyy-MM-dd HH:mm:ss"):"",a=0,s=0,n=t.entry[0].bizOrder.totalPrice,l=t.entry[0].bizOrder.actualPay,u=parseInt(l)-parseInt(n),d="#{f3}\n\n\n\n";return d+="#{f2}"+o(t.shop," ","f2")+"\n",d+="#{f1}收银员:"+c(t.user,20," ","R","f1")+"机号:"+e+"\n",d+="#{f1}销售时间:"+c(i,23," ","L","f1")+"\n",d+="#{f1}"+c("原价",8," ","R","f1")+c("数量",8," ","R","f1")+c("折扣",8," ","L","f1")+c("金额",8," ","L","f1")+"\n",t&&t.entry.forEach(function(t){t.bizOrder&&t.bizOrder.subBizOrderList&&t.bizOrder.subBizOrderList.forEach(function(t){var e=t.itemOriginPrice,i=t.itemPrice,n=t.buyAmount,o=(parseInt(e)-parseInt(i))*n,l=parseInt(i)*n;a+=parseInt(e)*n,s+=o,d+="#{f1}"+t.itemName+"\n",d+="#{f1}"+c(r.default.formatRmb(e,2),8," ","R","f1")+c(String(n),8," ","R","f1")+c(r.default.formatRmb(o,2),8," ","R","f1")+r.default.formatRmb(l,2)+"\n"})}),d+="#{f1}总金额:"+c(r.default.formatRmb(a,2),25," ","L","f1")+"\n",d+="#{f1}总折扣:"+c(r.default.formatRmb(s,2),25," ","L","f1")+"\n",d+="#{f1}应付金额:"+c(r.default.formatRmb(n,2),23," ","L","f1")+"\n",d+="#{f1}实付金额:"+c(r.default.formatRmb(l,2),23," ","L","f1")+"\n",d+="#{f1}找零:"+c(r.default.formatRmb(u,2),25," ","L","f1")+"\n",d+="#{f1}支付方式:"+c(String(function(){var e=t.entry?t.entry[0].bizOrder.payTypeList[0].payType:"",i="";return"1"==e?i="现金":"2"==e?i="支付宝":"3"==e?i="微信":"4"==e?i="pos机":"5"==e&&(i="储值卡"),i}()),23," ","L","f1")+"\n",d+="#{f3}\n\n\n\n\n\n",console.log(d),d}},,,,,function(t,e,i){i(88);var a=i(0)(i(104),i(59),"data-v-58649848",null);t.exports=a.exports},function(t,e,i){i(98);var a=i(0)(i(106),i(69),"data-v-d21d046e",null);t.exports=a.exports},function(t,e,i){i(91);var a=i(0)(i(109),i(62),null,null);t.exports=a.exports},function(t,e,i){i(84);var a=i(0)(i(111),i(55),null,null);t.exports=a.exports},function(t,e,i){i(92);var a=i(0)(i(121),i(63),null,null);t.exports=a.exports},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e={contentType:"application/json",xhrFields:{withCredentials:!0}};e=s.default.extend(e,t),e.success=function(e){10212!=e.responseCode&&t.success&&t.success(e)},e.error=function(e){t.error&&t.error(e)},lib.ajax(e)};var a=i(1),s=function(t){return t&&t.__esModule?t:{default:t}}(a)},function(t,e,i){i(90);var a=i(0)(i(103),i(61),null,null);t.exports=a.exports},function(t,e){},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),r=a(s),n=i(101),o=a(n);r.default.use(o.default),e.default=new o.default({routes:[{path:"/home",name:"home",component:i(14)},{path:"/lockpos",name:"lockpos",component:i(37)},{path:"/nextshift",name:"nextshift",component:i(39)},{path:"/holdlist",name:"holdlist",component:i(36)},{path:"/returngoods",name:"returngoods",component:i(41)},{path:"/vicescreen",name:"vicescreen",component:i(42)},{path:"/login",name:"login",component:i(38)},{path:"/printtest",name:"printtest",component:i(40)},{path:"/balance",component:i(35),children:[{path:"cash",component:i(15)},{path:"alipay",component:i(43)},{path:"weixin",component:i(48)},{path:"stored_card",component:i(47)},{path:"bank_card",component:i(44)},{path:"citizen_card",component:i(46)},{path:"check",component:i(45)},{path:"*",component:i(15)}]},{path:"*",component:i(14)}],linkActiveClass:"active"})},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),r=a(s),n=i(2),o=a(n),c=i(131),l=a(c),u=i(136),d=a(u);r.default.use(o.default);e.default=new o.default.Store({modules:{home:l.default,pay:d.default},strict:!1})},,,,,,,,,,,,function(t,e,i){i(87);var a=i(0)(i(105),i(58),"data-v-4c732a93",null);t.exports=a.exports},function(t,e,i){i(99);var a=i(0)(i(108),i(70),"data-v-f2be48aa",null);t.exports=a.exports},function(t,e,i){i(93);var a=i(0)(i(110),i(64),"data-v-76811937",null);t.exports=a.exports},function(t,e,i){i(83);var a=i(0)(i(112),i(54),null,null);t.exports=a.exports},function(t,e,i){i(79);var a=i(0)(i(113),i(50),"data-v-0ce7389a",null);t.exports=a.exports},function(t,e,i){i(89);var a=i(0)(i(114),i(60),"data-v-5bd3b8fa",null);t.exports=a.exports},function(t,e,i){i(78);var a=i(0)(i(115),i(49),"data-v-0162b380",null);t.exports=a.exports},function(t,e,i){i(100);var a=i(0)(i(116),i(71),"data-v-f690ba60",null);t.exports=a.exports},function(t,e,i){i(86);var a=i(0)(i(117),i(57),null,null);t.exports=a.exports},function(t,e,i){i(80);var a=i(0)(i(118),i(51),null,null);t.exports=a.exports},function(t,e,i){i(82);var a=i(0)(i(119),i(53),"data-v-10a94f06",null);t.exports=a.exports},function(t,e,i){i(81);var a=i(0)(i(120),i(52),null,null);t.exports=a.exports},function(t,e,i){i(94);var a=i(0)(i(122),i(65),null,null);t.exports=a.exports},function(t,e,i){i(85);var a=i(0)(i(123),i(56),null,null);t.exports=a.exports},function(t,e,i){i(95);var a=i(0)(i(124),i(66),null,null);t.exports=a.exports},function(t,e,i){i(96);var a=i(0)(i(125),i(67),null,null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"cont"}},[i("div",{staticClass:"panel"},[i("div",{staticClass:"bg"},[t.isshow?[i("div",{staticClass:"login-panel"},[i("span",{staticClass:"avatar"},[t._v(t._s(t.curfirstname))]),t._v(" "),i("p",{staticClass:"name"},[t._v(t._s(t.curusername))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"},{name:"focus",rawName:"v-focus"}],staticClass:"login-input",attrs:{autocomplete:"new-password",placeholder:"输入密码",type:"password"},domProps:{value:t.password},on:{keyup:function(e){if(!("button"in e)&&13!==e.keyCode)return null;t.submit(e)},input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),i("div",{staticClass:"key-tip"},[i("span",{staticClass:"t-arrow"}),t._v(" "),i("span",{staticClass:"tips",on:{click:t.resetChosse}},[t._v("重选[R]")]),t._v(" "),i("span",{staticClass:"b-arrow"})])])]:[i("h3",{staticClass:"title"},[t._v("选择 002班次 店员")]),t._v(" "),i("div",{staticClass:"list clearfix"},t._l(t.list,function(e){return e.userId!=t.userId?i("div",{key:e.userId,staticClass:"item",on:{click:function(i){t.select(e)}}},[i("span",{staticClass:"avatar"},[t._v(t._s(e.firstname))]),t._v(" "),i("p",{staticClass:"name"},[t._v(t._s(e.realName))])]):t._e()}))]],2)]),t._v(" "),i("ul",{staticClass:"tool-list clearfix"},[i("li",[i("span",{staticClass:"tool-btn",on:{click:t.backtohome}},[i("i",{staticClass:"icon icon-back"}),i("span",{staticClass:"text"},[t._v("返回")]),i("span",{staticClass:"key"},[t._v("ESC")])])]),t._v(" "),i("li",[i("span",{staticClass:"tool-btn squa-btn",on:{click:t.print}},[i("i",{staticClass:"icon icon-print"}),i("span",{staticClass:"text"},[t._v("打印班次小票")]),i("span",{staticClass:"key"},[t._v("C")])])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"lock-panel"}},[i("div",{staticClass:"lock-bg"},[i("div",{staticClass:"login-panel"},[i("span",{staticClass:"avatar"},[t._v(t._s(t.curloginuser.firstname))]),t._v(" "),i("p",{staticClass:"name"},[t._v(t._s(t.curloginuser.realName))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"},{name:"focus",rawName:"v-focus"}],staticClass:"login-input",attrs:{autocomplete:"new-password",placeholder:"输入密码",type:"password"},domProps:{value:t.password},on:{keyup:function(e){if(!("button"in e)&&13!==e.keyCode)return null;t.submit(e)},input:function(e){e.target.composing||(t.password=e.target.value)}}})])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vice-screen",attrs:{id:"content"}},["default"==t.vicedata.vicestatus?[t._m(0)]:[i("div",{staticClass:"wrapper clearfix"},[i("div",{staticClass:"aside scrollbar"},[i("img",{attrs:{src:"http://imgsize.52shangou.com/img/n/03/09/1489039902039_7700.png",alt:""}})]),t._v(" "),i("div",{staticClass:"section"},["tocart"==t.vicedata.vicestatus?[i("div",{staticClass:"cart-list"},[i("div",{staticClass:"cart-header"},[i("table",{staticClass:"cart-table"},[i("thead",[i("tr",[i("th",{attrs:{width:"10%"}},[t._v("序号")]),t._v(" "),i("th",{attrs:{width:"40%"}},[t._v("商品名")]),t._v(" "),i("th",{attrs:{width:"20%"}},[t._v("单价")]),t._v(" "),i("th",{attrs:{width:"15%"}},[t._v("数量")]),t._v(" "),i("th",{attrs:{width:"15%"}},[t._v("金额")])])])])]),t._v(" "),i("div",{staticClass:"cart-body"},[i("table",{staticClass:"cart-table"},[i("colgroup",[i("col",{attrs:{width:"10%"}}),t._v(" "),i("col",{attrs:{width:"40%"}}),t._v(" "),i("col",{attrs:{width:"20%"}}),t._v(" "),i("col",{attrs:{width:"15%"}}),t._v(" "),i("col",{attrs:{width:"15%"}})]),t._v(" "),i("tbody",t._l(t.vicedata.cartList,function(e,a){return i("tr",{key:e.itemId},[i("td",[t._v(t._s(t.vicedata.cartList.length-a))]),t._v(" "),i("td",[t._v(t._s(t._f("formatname")(e.itemName)))]),t._v(" "),i("td",[e.itemPrice&&e.itemPrice!=e.price?[t._v("\n                                            "+t._s(t._f("formatPrice")(e.itemPrice,2))+" "),i("del",{staticClass:"del-font"},[t._v(t._s(t._f("formatPrice")(e.price,2)))])]:!e.itemPrice&&t.vicedata.vipInfo.isAllowMemberPrice&&parseInt(e.memberPrice)<parseInt(e.price)?[t._v("\n                                            "+t._s(t._f("formatPrice")(e.memberPrice,2))+" "),i("del",{staticClass:"del-font"},[t._v(t._s(t._f("formatPrice")(e.price,2)))])]:[t._v("\n                                            "+t._s(t._f("formatPrice")(e.price,2))+"\n                                ")]],2),t._v(" "),i("td",[t._v(t._s(e.amount))]),t._v(" "),i("td",[t._v(" "+t._s(t._f("formatPrice")(e.showPrice*e.amount,2)))])])}))])])]),t._v(" "),i("div",{staticClass:"cart-footer"},[i("p",{staticClass:"sum"},[t._v("合计："+t._s(t._f("formatPrice")(t.vicedata.balanceInfo.showTotalPriceNoMember,2)))]),t._v(" "),i("p",{staticClass:"sum"},[t._v("优惠："+t._s(t._f("formatPrice")(t.vicedata.balanceInfo.vipSave,2)))]),t._v(" "),i("span",{staticClass:"rmb"},[t._v("\n                            "+t._s(t._f("formatPrice")(t.vicedata.balanceInfo.salesTotalPrice,2))+" "),i("span",{staticClass:"label"},[t._v("元")]),t._v(" "+t._s(t.vicedata.balanceInfo.num)),i("span",{staticClass:"label"},[t._v("件")])])])]:"topay"==t.vicedata.vicestatus?[i("div",{staticClass:"vice-cont"},[i("p",{staticClass:"font-x color-bb"},[t._v("需支付")]),t._v(" "),i("p",{staticClass:"font-xxx color-bb"},[t._v(t._s(t._f("formatPrice")(t.vicedata.payInfo.totalPrice,2)))]),t._v(" "),t.vicedata.payInfo.wipingZeroNum?i("p",{staticClass:"font-x color-bbb"},[t._v("已抹零 "+t._s(t._f("formatPrice")(t.vicedata.payInfo.wipingZeroNum,2)))]):t._e()])]:"togive"==t.vicedata.vicestatus?[i("div",{staticClass:"vice-cont"},[i("p",{staticClass:"font-x color-bb"},[t._v("找零")]),t._v(" "),i("p",{staticClass:"font-xxx color-bb"},[t._v(t._s(t._f("formatPrice")(t.vicedata.payInfo.changeNum,2)))])])]:"paysuc"==t.vicedata.vicestatus?[i("div",{staticClass:"vice-cont"},[i("span",{staticClass:"vice-icon"}),t._v(" "),i("p",{staticClass:"font-x color-bbb"},[t._v("支付成功")]),t._v(" "),i("p",{staticClass:"font-xxx color-bb"},[t._v(t._s(t._f("formatPrice")(t.vicedata.payInfo.totalPrice,2)))])])]:"toalipayauth"==t.vicedata.vicestatus?[i("div",{staticClass:"vice-cont"},[i("span",{staticClass:"aliauth-icon"}),t._v(" "),i("p",{staticClass:"font-x color-bbb"},[t._v("抱歉，商家暂不支持支付宝收款")])])]:"torefund"==t.vicedata.vicestatus?[i("div",{staticClass:"cart-list"},[i("div",{staticClass:"cart-header"},[i("table",{staticClass:"cart-table"},[i("thead",[i("tr",[i("th",{attrs:{width:"10%"}},[t._v("序号")]),t._v(" "),i("th",{attrs:{width:"45%"}},[t._v("商品名")]),t._v(" "),i("th",{attrs:{width:"15%"}},[t._v("单价")]),t._v(" "),i("th",{attrs:{width:"15%"}},[t._v("数量")]),t._v(" "),i("th",{attrs:{width:"15%"}},[t._v("金额")])])])])]),t._v(" "),i("div",{staticClass:"cart-body"},[i("table",{staticClass:"cart-table"},[i("colgroup",[i("col",{attrs:{width:"10%"}}),t._v(" "),i("col",{attrs:{width:"45%"}}),t._v(" "),i("col",{attrs:{width:"15%"}}),t._v(" "),i("col",{attrs:{width:"15%"}}),t._v(" "),i("col",{attrs:{width:"15%"}})]),t._v(" "),i("tbody",t._l(t.vicedata.refundList,function(e,a){return i("tr",{key:e.itemId},[i("td",[t._v(t._s(t.vicedata.refundList.length-a))]),t._v(" "),i("td",[t._v(t._s(e.itemName))]),t._v(" "),i("td",[t._v(t._s(t._f("formatPrice")(e.price,2)))]),t._v(" "),i("td",[t._v(t._s(e.amount))]),t._v(" "),i("td",[t._v(t._s(t._f("formatPrice")(e.price*e.amount,2)))])])}))])])]),t._v(" "),i("div",{staticClass:"cart-footer"},[i("span",{staticClass:"rmb"},[t._v("\n                            退款 "+t._s(t._f("formatPrice")(t.vicedata.refundBalanceInfo.sum,1))+" "),i("span",{staticClass:"label"},[t._v("元")]),t._v("\n                            "+t._s(t.vicedata.refundBalanceInfo.num)+" "),i("span",{staticClass:"label"},[t._v("件")])])])]:t._e()],2)])]],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vice-main"},[i("img",{attrs:{src:"http://imgsize.52shangou.com/img/n/12/16/1481858053559_3148.jpg"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"balance-title"},[t._v("银行卡")]),t._v(" "),i("div",{staticClass:"editArea"},[i("ul",[i("li",{staticClass:"liH"},[i("label",[t._v("应收")]),t._v(" "),t.getWipingZeroStatus?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.totalPrice,expression:"totalPrice"},{name:"focus",rawName:"v-focus"}],staticClass:"inputW",attrs:{type:"number"},domProps:{value:t.totalPrice},on:{input:function(e){e.target.composing||(t.totalPrice=e.target.value)},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("span",{staticClass:"wipingZero",on:{click:t.wipingZero}},[t._v("取消抹零[M]")])]:[i("span",{staticClass:"receivable"},[t._v(t._s(t._f("formatPrice")(t.getOriginalPrice,2)))]),t._v(" "),i("span",{staticClass:"wipingZero",on:{click:t.wipingZero}},[t._v("抹零[M]")])]],2),t._v(" "),i("li",{staticClass:"wipingZeroInfo"},[t.getWipingZeroStatus?[t._v("\n                    原应收  "),i("span",[t._v(t._s(t._f("formatPrice")(t.getOriginalPrice,2)))]),t._v("，已抹零"+t._s(t._f("formatPrice")(t.getWipingZeroNum,2))+"\n                ")]:t._e()],2),t._v(" "),i("li",[i("label",{staticClass:"bankMarkText"},[t._v("备注")]),t._v(" "),i("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"bankMark",attrs:{name:"",type:"text"},on:{keyup:t.updataMark}})]),t._v(" "),i("li",{staticClass:"bankTips"},[t._v("\n                请使用银行卡刷卡器收款\n            ")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isBindAlipay?i("div",[i("h1",{staticClass:"balance-title"},[t._v("支付宝")]),t._v(" "),i("div",{staticClass:"editArea"},[i("ul",[i("li",{staticClass:"liH"},[i("label",[t._v("应收")]),t._v(" "),t.getWipingZeroStatus?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.totalPrice,expression:"totalPrice"},{name:"focus",rawName:"v-focus"}],staticClass:"inputW",attrs:{type:"number"},domProps:{value:t.totalPrice},on:{input:function(e){e.target.composing||(t.totalPrice=e.target.value)},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("span",{staticClass:"wipingZero",on:{click:t.wipingZero}},[t._v("取消抹零[M]")])]:[i("span",{staticClass:"receivable"},[t._v(t._s(t._f("formatPrice")(t.getOriginalPrice,2)))]),t._v(" "),i("span",{staticClass:"wipingZero",on:{click:t.wipingZero}},[t._v("抹零[M]")])]],2),t._v(" "),i("li",{staticClass:"wipingZeroInfo"},[t.getWipingZeroStatus?[t._v("\n                        原应收  "),i("span",[t._v(t._s(t._f("formatPrice")(t.getOriginalPrice,2)))]),t._v("，已抹零"+t._s(t._f("formatPrice")(t.getWipingZeroNum,2))+"\n                ")]:t._e()],2),t._v(" "),t.scanPrompt?i("li",{staticClass:"scanPrompt"},[t._v("\n                    请使用扫码枪，扫描支付宝付款码\n                    "),i("span",{on:{click:function(e){t.showScanPrompt()}}},[t._v("手动输入付款码[F]")])]):i("li",[i("label",[t._v("付款码")]),t._v(" "),i("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"paymentCode",attrs:{name:"",type:"text"},on:{focus:t.inputfocus,blur:t.inputblur,keyup:t.updateqrcode}})])])])]):i("div",{staticClass:"notBindAlipay"},[t._v("\n        您的支付宝尚未授权，将不能使用支付宝付款\n        "),i("div",{staticClass:"goBindAlipay",on:{click:t.bindAlipay}},[t._v("立即绑定[enter]")])]),t._v(" "),i("LazyRender",{attrs:{time:300}},[t._m(0)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement;return(t._self._c||e)("bindalipay")}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"content"}},[i("header",{staticClass:"header hold-header"},[i("mainheader"),t._v(" "),t._m(0)],1),t._v(" "),i("div",{staticClass:"container hold-container scrollbar"},[i("div",{staticClass:"wrapper"},[i("div",{staticClass:"aside scrollbar"},[i("ul",{staticClass:"tab"},[i("li",t._l(t.holdList,function(e,a){return i("a",{key:e.time,staticClass:"tab-item",class:{"tab-cur":t.current==a},on:{click:function(e){t.toggletab(a)}}},[i("h3",{staticClass:"hold-title"},[t._v(t._s(t._f("filterTime")(e.holdtime,"MM-dd HH:mm:ss")))]),t._v(" "),i("p",{staticClass:"cart-info"},[t._v(t._s(e.balanceInfo.num)+" 件 "+t._s(t._f("formatPrice")(e.balanceInfo.showTotalPrice,1))+" 元")]),t._v(" "),e.remark?i("p",{staticClass:"cart-info"},[t._v("备注："+t._s(e.remark))]):t._e(),t._v(" "),e.vipInfo.name?i("span",{staticClass:"v-icon"},[t._v("会员："+t._s(e.vipInfo.name))]):t._e()])}))])]),t._v(" "),i("div",{staticClass:"section"},[t._m(1),t._v(" "),i("div",{staticClass:"section-body"},[i("table",{staticClass:"cart-table"},[t._m(2),t._v(" "),i("tbody",[t._l(t.holdList,function(e,a){return t.current==a?t._l(e.cartList,function(a,s){return i("tr",{key:a.itemId},[i("td",[t._v("\n                                        "+t._s(e.cartList.length-s)+"\n\n\n                                    ")]),t._v(" "),i("td",[t._v(t._s(a.barcode))]),t._v(" "),i("td",[t._v(t._s(a.itemName))]),t._v(" "),i("td",[t._v(t._s(a.unit))]),t._v(" "),i("td",[a.itemPrice&&a.itemPrice!=a.price?[t._v("\n                                            "+t._s(t._f("formatPrice")(a.itemPrice,2))+"\n\n\n                                            "),i("del",{staticClass:"del-font"},[t._v(t._s(t._f("formatPrice")(a.price,2)))])]:[t._v("\n                                            "+t._s(t._f("formatPrice")(a.price,2))+"\n\n\n                                        ")]],2),t._v(" "),i("td",[t._v("\n                                        "+t._s(a.amount)+"\n\n\n                                    ")]),t._v(" "),i("td",[a.itemPrice?[a.itemPrice&&a.itemPrice!=a.price?[t._v("\n                                                "+t._s(t._f("formatPrice")(a.itemPrice*a.amount,2))+"\n                                            ")]:[t._v("\n                                                "+t._s(t._f("formatPrice")(a.price*a.amount,2))+"\n                                            ")]]:[t._v("\n                                            "+t._s(t._f("formatPrice")(a.price*a.amount,2))+"\n                                        ")]],2)])}):t._e()})],2)])])])])]),t._v(" "),i("footer",{staticClass:"footer hold-footer"},[i("div",{staticClass:"key-area"},[i("ul",{staticClass:"tool-list"},[i("li",[i("span",{staticClass:"tool-btn",on:{click:t.backtohome}},[i("i",{staticClass:"icon icon-back"}),i("span",{staticClass:"text"},[t._v("返回")]),i("span",{staticClass:"key"},[t._v("ESC")])])])]),t._v(" "),i("span",{staticClass:"balance-btn",class:{"balance-btn-disabled":t.isdisabled},on:{click:t.distillholdlist}},[i("p",{staticClass:"num"},[t._v("确定提取")]),t._v(" "),i("p",{staticClass:"key"},[t._v("[enter]")])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"nav"},[i("li",[i("a",{staticClass:"current",attrs:{href:""}},[t._v("POS收银[ctrl＋1]")])]),t._v(" "),i("li",[i("a",{attrs:{href:""}},[t._v("闪电购订单[ctrl＋2]")])]),t._v(" "),i("li",[i("a",{attrs:{href:""}},[t._v("商品管理[ctrl＋3]")])]),t._v(" "),i("li",[i("a",{attrs:{href:""}},[t._v("会员管理[ctrl＋4]")])]),t._v(" "),i("li",[i("a",{attrs:{href:""}},[t._v("后台[ctrl＋5]")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section-header"},[i("table",{staticClass:"cart-table"},[i("thead",[i("tr",[i("th",{attrs:{width:"5%"}},[t._v("序号")]),t._v(" "),i("th",{attrs:{width:"20%"}},[t._v("条形码")]),t._v(" "),i("th",{attrs:{width:"25%"}},[t._v("商品名")]),t._v(" "),i("th",{attrs:{width:"10%"}},[t._v("单位")]),t._v(" "),i("th",{attrs:{width:"20%"}},[t._v("单价")]),t._v(" "),i("th",{attrs:{width:"10%"}},[t._v("数量")]),t._v(" "),i("th",{attrs:{width:"10%"}},[t._v("金额")])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("colgroup",[i("col",{attrs:{width:"5%"}}),t._v(" "),i("col",{attrs:{width:"20%"}}),t._v(" "),i("col",{attrs:{width:"25%"}}),t._v(" "),i("col",{attrs:{width:"10%"}}),t._v(" "),i("col",{attrs:{width:"20%"}}),t._v(" "),i("col",{attrs:{width:"10%"}}),t._v(" "),i("col",{attrs:{width:"10%"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"content"}},[i("header",{staticClass:"header"},[t._m(0),t._v(" "),t._m(1),t._v(" "),i("LazyRender",{attrs:{time:10}},[t._m(2)],1),t._v(" "),i("div",{staticClass:"fixed-btns"},[t._m(3),t._v(" "),i("span",{staticClass:"key-btn",on:{click:function(e){t.earningdilog=!0}}},[i("i",{staticClass:"icon icon-revenue"}),t._v(" "),i("span",{staticClass:"text"},[t._v("营收[Y]")])])])],1),t._v(" "),i("div",{staticClass:"container scrollbar"},[i("div",{staticClass:"content"},[i("LazyRender",{attrs:{time:10}},[t._m(4)],1)],1)]),t._v(" "),i("footer",{staticClass:"footer"},[i("div",{staticClass:"vip-info clearfix"},[t.vipInfo.name&&t.hasSearched?i("span",{staticClass:"vip"},[i("span",{staticClass:"label"},[t._v("会员："),i("span",[t._v(t._s(t.vipInfo.name))])]),t._v(" "),i("span",{staticClass:"label"},[t._v("余额："),i("span",[t._v(t._s(t._f("formatPrice")(t.vipInfo.balance,2)))])]),t._v(" "),i("span",{staticClass:"label"},[t._v("尊享："),i("span",[t._v(t._s(t.vipInfo.discount)+" 折")])])]):t._e(),t._v(" "),i("span",{staticClass:"cart"},[0==t.cartList.length?[t._v("\n                    上笔已付 "+t._s(t._f("formatPrice")(t.lastorder.totalPrice,1))+"  找零 "+t._s(t._f("formatPrice")(t.lastorder.toZero,1))+"\n                ")]:[t.balanceInfo.num?[t._v("\n                    共 "+t._s(t.balanceInfo.num)+" 件  合计 "+t._s(t._f("formatPrice")(t.balanceInfo.showTotalPriceNoMember,2))+";  "),t.balanceInfo.vipSave?i("span",[t._v(" 会员优惠 "+t._s(t._f("formatPrice")(t.balanceInfo.vipSave,2)))]):t._e()]:[t._v("\n                        共 0 件  合计 0 ;  会员优惠 0\n                    ")]]],2)]),t._v(" "),i("div",{staticClass:"key-area"},[i("ul",{staticClass:"tool-list"},[i("li",[i("span",{staticClass:"tool-btn",on:{click:t.clearCartList}},[i("i",{staticClass:"icon icon-cancel",class:{"icon-cancel-active":t.cartList.length>0}}),i("span",{staticClass:"text"},[t._v("取消订单")]),i("span",{staticClass:"key"},[t._v("ESC")])])]),t._v(" "),i("li",[t.cartList.length>0?[i("span",{staticClass:"tool-btn",on:{click:function(e){t.isshowholdlistdialog=!0}}},[i("i",{staticClass:"icon icon-hold icon-hold-active"}),i("span",{staticClass:"text"},[t._v("挂单")]),i("span",{staticClass:"key"},[t._v("Q")])])]:[i("span",{staticClass:"tool-btn no-cursor"},[i("i",{staticClass:"icon icon-hold"}),i("span",{staticClass:"text"},[t._v("挂单")]),i("span",{staticClass:"key"},[t._v("Q")])])]],2),t._v(" "),i("li",[i("span",{staticClass:"tool-btn hold-btn",class:{"hold-btn-disabled":0==t.holdlistlength()},on:{click:t.gotoholdlist}},[i("i",{staticClass:"num"},[t._v(t._s(t.holdlistlength()))]),i("span",{staticClass:"text"},[t._v("已挂单")]),i("span",{staticClass:"key"},[t._v("W")])])]),t._v(" "),i("li",[i("span",{staticClass:"tool-btn",on:{click:t.gotoreturngoods}},[i("i",{staticClass:"icon icon-goods"}),i("span",{staticClass:"text"},[t._v("退货")]),i("span",{staticClass:"key"},[t._v("Z")])])]),t._v(" "),i("li",[i("span",{staticClass:"tool-btn",on:{click:t.reprintorder}},[i("i",{staticClass:"icon icon-reprint",class:{"icon-reprint-active":t.lastorder.hasLastOrder}}),i("span",{staticClass:"text"},[t._v("重印")]),i("span",{staticClass:"key"},[t._v("C")])])]),t._v(" "),i("li",[t.vipInfo.name&&t.hasSearched?[i("span",{staticClass:"tool-btn",on:{click:function(e){t.isshowcancelvipdialog=!0}}},[i("i",{staticClass:"icon icon-vip"}),i("span",{staticClass:"text"},[t._v("取消会员")]),t._v(" "),i("span",{staticClass:"key"},[t._v("V")])])]:[i("span",{staticClass:"tool-btn",on:{click:function(e){t.isshowvipdialog=!0}}},[i("i",{staticClass:"icon icon-vip"}),i("span",{staticClass:"text"},[t._v("会员")]),t._v(" "),i("span",{staticClass:"key"},[t._v("V")])])]],2)]),t._v(" "),i("span",{staticClass:"balance-btn",on:{click:function(e){e.preventDefault(),t.tobuildpayorder(e)}}},[i("p",{staticClass:"num"},[t.balanceInfo.salesTotalPrice?[t._v("\n                        结算  "+t._s(t._f("formatPrice")(t.balanceInfo.salesTotalPrice,1))+"\n                    ")]:[t._v("\n                        结算 0.00\n                    ")]],2),t._v(" "),i("p",{staticClass:"key"},[t._v("[enter]")])])])]),t._v(" "),t.earningdilog?i("el-dialog",{attrs:{title:"今日营收","show-close":!1,"custom-class":"ele-modal",top:"30%"},model:{value:t.earningdilog,callback:function(e){t.earningdilog=e},expression:"earningdilog"}},[i("div",{staticClass:"cus-cont"},[i("p",{staticClass:"summary"},[t._v("已营收 "+t._s(t.report.totalOrderAmount)+" 笔")]),t._v(" "),i("h4",{staticClass:"sum"},[t._v(t._s(t._f("formatPrice")(t.report.totalPrice,1)))])]),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"print"},on:{click:t.printdayreport}},[t._v("打印营收小票[C]")]),t._v(" "),i("el-button",{attrs:{type:"cancel"},on:{click:function(e){t.earningdilog=!1}}},[t._v("取消[ESC]")])],1)]):t._e(),t._v(" "),t.isshowvipdialog?i("el-dialog",{attrs:{title:"","show-close":!1,"custom-class":"ele-modal",top:"30%"},model:{value:t.isshowvipdialog,callback:function(e){t.isshowvipdialog=e},expression:"isshowvipdialog"}},[i("div",{staticClass:"cus-cont no-top-border"},[i("div",{staticClass:"search-panel"},[i("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],staticClass:"code-input",attrs:{type:"text",placeholder:"输入会员手机号或储值卡号"},domProps:{value:t.mobile},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.getvipinfo(e)},input:function(e){e.target.composing||(t.mobile=e.target.value)}}}),t._v(" "),i("span",{staticClass:"code-btn",class:{"code-btn-active":t.isBtn},on:{click:function(e){t.getvipinfo(e)}}},[i("p",{staticClass:"icon icon-search"}),t._v(" "),i("p",{staticClass:"key"},[t._v("搜索[enter]")])])]),t._v(" "),t.vipInfo.name?[i("div",{staticClass:"search-result"},[i("span",{staticClass:"label"},[t._v("会员："+t._s(t.vipInfo.name))]),t._v(" "),i("span",{staticClass:"line"}),t._v(" "),i("span",{staticClass:"label"},[t._v("余额："+t._s(t._f("formatPrice")(t.vipInfo.balance,2)))]),t._v(" "),i("span",{staticClass:"line"}),t._v(" "),i("span",{staticClass:"label"},[t._v(t._s(t.vipInfo.discount)+"折")])])]:t.vipInfo&&t.hasSearched?[i("div",{staticClass:"no-result"},[i("p",{staticClass:"tips"},[t._v("无此会员")]),t._v(" "),i("a",{staticClass:"link",attrs:{href:"#",target:"_self"}},[t._v("注册会员[ctrl+V]")])])]:t._e()],2),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"print"},on:{click:t.confirmvip}},[t._v("确定[enter]")]),t._v(" "),i("el-button",{attrs:{type:"cancel"},on:{click:t.cancelvip}},[t._v("取消[ESC]")])],1)]):t._e(),t._v(" "),t.isshowcancelvipdialog?i("el-dialog",{attrs:{title:"","show-close":!1,"custom-class":"ele-modal",top:"30%"},model:{value:t.isshowcancelvipdialog,callback:function(e){t.isshowcancelvipdialog=e},expression:"isshowcancelvipdialog"}},[i("div",{staticClass:"cus-cont height-mini no-top-border"},[t._v("\n            你确定要取消会员吗？\n        ")]),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"print"},on:{click:t.confrimCancelVip}},[t._v("确定[enter]")]),t._v(" "),i("el-button",{attrs:{type:"cancel"},on:{click:function(e){t.isshowcancelvipdialog=!1}}},[t._v("取消[ESC]")])],1)]):t._e(),t._v(" "),t.isshowcancelcartdialog?i("el-dialog",{attrs:{"show-close":!1,"custom-class":"ele-modal",top:"30%"},model:{value:t.isshowcancelcartdialog,callback:function(e){t.isshowcancelcartdialog=e},expression:"isshowcancelcartdialog"}},[i("div",{staticClass:"cus-cont height-mini no-top-border"},[t._v("\n            你确定要取消订单吗？\n        ")]),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"print"},on:{click:function(e){t.isshowcancelcartdialog=!1}}},[t._v("确定[enter]")]),t._v(" "),i("el-button",{attrs:{type:"cancel"},on:{click:function(e){t.isshowcancelcartdialog=!1}}},[t._v("取消[ESC]")])],1)]):t._e(),t._v(" "),t.isshowholdlistdialog?i("el-dialog",{attrs:{"show-close":!1,"custom-class":"ele-modal",top:"30%"},model:{value:t.isshowholdlistdialog,callback:function(e){t.isshowholdlistdialog=e},expression:"isshowholdlistdialog"}},[i("div",{staticClass:"no-top-border"},[i("p",{staticClass:"confrim-title"},[t._v("你确定将此单挂起吗？")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.remark,expression:"remark"}],staticClass:"textarea",attrs:{rows:"5",placeholder:"挂单备注"},domProps:{value:t.remark},on:{input:function(e){e.target.composing||(t.remark=e.target.value)}}})]),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"print"},on:{click:t.confirmholdlist}},[t._v("确定[enter]")]),t._v(" "),i("el-button",{attrs:{type:"cancel"},on:{click:t.cancelholdlist}},[t._v("取消[ESC]")])],1)]):t._e(),t._v(" "),t.notBindAlipay?i("el-dialog",{attrs:{"show-close":!0,"custom-class":"ele-modal",top:"30%"},model:{value:t.notBindAlipay,callback:function(e){t.notBindAlipay=e},expression:"notBindAlipay"}},[i("div",{staticClass:"bind-panel"},[i("p",{staticClass:"bind-title"},[t._v("您的支付宝尚未绑定，将不能使用支付宝付款")]),t._v(" "),i("a",{staticClass:"link",attrs:{href:"#"},on:{click:t.linktobindalipay}},[t._v("立即绑定")])])]):t._e(),t._v(" "),i("LazyRender",{attrs:{time:300}},[t._m(5)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement;return(t._self._c||e)("mainheader")},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"nav"},[i("li",[i("a",{staticClass:"current",attrs:{href:""}},[t._v("POS收银[ctrl＋1]")])]),t._v(" "),i("li",[i("a",{attrs:{href:"http://daily.52shangou.com/poscrm/sdgOrder/orderList?from=newPos"}},[t._v("闪电购订单[ctrl＋2]")])]),t._v(" "),i("li",[i("a",{attrs:{href:"http://daily.52shangou.com/poscrm/item/goodsControl?from=newPos"}},[t._v("商品管理[ctrl＋3]")])]),t._v(" "),i("li",[i("a",{attrs:{href:"http://daily.52shangou.com/poscrm/member/memberRecharge?from=newPos"}},[t._v("会员管理[ctrl＋4]")])]),t._v(" "),i("li",[i("a",{attrs:{href:"http://daily.52shangou.com/poscrm/report/reportpage?from=newPos"}},[t._v("后台[ctrl＋5]")])])])},function(){var t=this,e=t.$createElement;return(t._self._c||e)("topsearch",{on:{fromtopsearch:t.searchitem}})},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"key-btn"},[i("i",{staticClass:"icon icon-money"}),t._v(" "),i("span",{staticClass:"text"},[t._v("钱箱[空格]")])])},function(){var t=this,e=t.$createElement;return(t._self._c||e)("cartlist")},function(){var t=this,e=t.$createElement;return(t._self._c||e)("bindalipay",{staticClass:"h-bind-alipay"})}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"balance-title"},[t._v("市民卡")]),t._v(" "),i("div",{staticClass:"editArea"},[i("ul",[i("li",{staticClass:"liH"},[i("label",[t._v("应收")]),t._v(" "),t.getWipingZeroStatus?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.totalPrice,expression:"totalPrice"},{name:"focus",rawName:"v-focus"}],staticClass:"inputW",attrs:{type:"number"},domProps:{value:t.totalPrice},on:{input:function(e){e.target.composing||(t.totalPrice=e.target.value)},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("span",{staticClass:"wipingZero",on:{click:t.wipingZero}},[t._v("取消抹零[M]")])]:[i("span",{staticClass:"receivable"},[t._v(t._s(t._f("formatPrice")(t.getOriginalPrice,2)))]),t._v(" "),i("span",{staticClass:"wipingZero",on:{click:t.wipingZero}},[t._v("抹零[M]")])]],2),t._v(" "),i("li",{staticClass:"wipingZeroInfo"},[t.getWipingZeroStatus?[t._v("\n                    原应收  "),i("span",[t._v(t._s(t._f("formatPrice")(t.getOriginalPrice,2)))]),t._v("，已抹零"+t._s(t._f("formatPrice")(t.getWipingZeroNum,2))+"\n                ")]:t._e()],2),t._v(" "),i("li",[i("label",{staticClass:"bankMarkText"},[t._v("备注")]),t._v(" "),i("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"bankMark",attrs:{name:"",type:"text"},on:{keyup:t.updataMark}})]),t._v(" "),i("li",{staticClass:"bankTips"},[t._v("\n                请使用市民卡刷卡器收款\n            ")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"content"}},[i("header",{staticClass:"header",class:{"refund-header":"refunding"===t.status}},[i("mainheader"),t._v(" "),t._m(0),t._v(" "),"refundbefore"===t.status?[i("topsearch",{on:{fromtopsearch:t.searchitem}}),t._v(" "),i("div",{staticClass:"fixed-btns"},[t._m(1),t._v(" "),i("span",{staticClass:"key-btn",on:{click:function(e){t.earningdilog=!0}}},[i("i",{staticClass:"icon icon-revenue"}),t._v(" "),i("span",{staticClass:"text"},[t._v("营收[Y]")])])])]:t._e()],2),t._v(" "),i("div",{staticClass:"container scrollbar",class:{"refund-container":"refunding"===t.status}},[i("div",{staticClass:"content"},["refundbefore"===t.status?[i("refundlist")]:"refunding"===t.status?[i("div",{staticClass:"refund-panel"},[i("h4",{staticClass:"title"},[t._v("退款")]),t._v(" "),i("div",{staticClass:"cont"},[i("p",{staticClass:"info"},[i("span",{staticClass:"label"},[t._v("应退")]),i("span",{staticClass:"rmb"},[t._v(t._s(t._f("formatPrice")(t.refundBalanceInfo.sum,1)))])])]),t._v(" "),i("span",{staticClass:"round l-round"}),t._v(" "),i("span",{staticClass:"round r-round"})])]:t._e()],2)]),t._v(" "),i("footer",{staticClass:"footer",class:{"refund-footer":"refunding"===t.status}},[i("div",{staticClass:"vip-info clearfix"},[i("span",{staticClass:"cart"},["refundbefore"===t.status?[t.refundBalanceInfo.num?[t._v("\n                        共 "+t._s(t.refundBalanceInfo.num)+" 件  合计  "+t._s(t._f("formatPrice")(t.refundBalanceInfo.sum,2))+"\n                    ")]:[t._v("\n                        共 0 件  合计 0.00\n                    ")]]:t._e()],2)]),t._v(" "),i("div",{staticClass:"key-area"},[i("ul",{staticClass:"tool-list"},[i("li",[i("span",{staticClass:"tool-btn",on:{click:t.backtohome}},[i("i",{staticClass:"icon icon-back"}),t._v(" "),i("span",{staticClass:"text"},[t._v("返回")]),t._v(" "),i("span",{staticClass:"key"},[t._v("ESC")])])])]),t._v(" "),"refundbefore"===t.status?[i("span",{staticClass:"balance-btn",class:{"balance-btn-disabled":0==t.refundList.length},on:{click:function(e){e.preventDefault(),t.tobuildrefundorder(e)}}},[i("p",{staticClass:"num"},[t.refundBalanceInfo.num?[t._v("\n                            退款 "+t._s(t._f("formatPrice")(t.refundBalanceInfo.sum,1))+"\n                        ")]:[t._v("\n                            退款 0.0\n                        ")]],2),t._v(" "),i("p",{staticClass:"key"},[t._v("[enter]")])])]:t._e(),t._v(" "),"refunding"===t.status?[i("span",{staticClass:"balance-btn",on:{click:function(e){e.preventDefault(),t.finishrefund(e)}}},[i("p",{staticClass:"num"},[t._v("完成退款")]),t._v(" "),i("p",{staticClass:"key"},[t._v("[enter]")])])]:t._e()],2)]),t._v(" "),i("el-dialog",{attrs:{title:"今日营收","show-close":!1,"custom-class":"ele-modal",top:"30%"},model:{value:t.earningdilog,callback:function(e){t.earningdilog=e},expression:"earningdilog"}},[i("div",{staticClass:"cus-cont"},[i("p",{staticClass:"summary"},[t._v("已营收 "+t._s(t.report.totalOrderAmount)+" 笔")]),t._v(" "),i("h4",{staticClass:"sum"},[t._v(t._s(t._f("formatPrice")(t.report.totalPrice,1)))])]),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"print"},on:{click:t.printdayreport}},[t._v("打印营收小票[C]")]),t._v(" "),i("el-button",{attrs:{type:"cancel"},on:{click:function(e){t.earningdilog=!1}}},[t._v("取消[ESC]")])],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"nav"},[i("li",[i("a",{staticClass:"current",attrs:{href:""}},[t._v("POS收银[ctrl＋1]")])]),t._v(" "),i("li",[i("a",{attrs:{href:""}},[t._v("闪电购订单[ctrl＋2]")])]),t._v(" "),i("li",[i("a",{attrs:{href:""}},[t._v("商品管理[ctrl＋3]")])]),t._v(" "),i("li",[i("a",{attrs:{href:""}},[t._v("会员管理[ctrl＋4]")])]),t._v(" "),i("li",[i("a",{attrs:{href:""}},[t._v("后台[ctrl＋5]")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"key-btn"},[i("i",{staticClass:"icon icon-money"}),t._v(" "),i("span",{staticClass:"text"},[t._v("钱箱[空格]")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cart-list"},[t._m(0),t._v(" "),i("div",{staticClass:"cart-body"},[i("table",{staticClass:"cart-table"},[t._m(1),t._v(" "),i("tbody",t._l(t.cartList,function(e,a){return i("tr",{key:e.itemId,class:{"current J_CurTr":e.isCurrent}},[i("td",[t._v(t._s(t.cartList.length-a))]),t._v(" "),i("td",[t._v(t._s(e.barcode))]),t._v(" "),i("td",[t._v(t._s(t._f("formatname")(e.itemName))),e.property?[t._v(t._s(t._f("formatproperty")(e.property)))]:t._e()],2),t._v(" "),i("td",[t._v(t._s(e.unit))]),t._v(" "),i("td",[e.isCurrent&&"price"==t.editType?[e.itemPrice&&e.itemPrice!=e.price?[i("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"cart-input",attrs:{type:"text"},domProps:{value:t._f("formatPrice")(e.itemPrice,2)},on:{keyup:[t.formatprice,function(i){if(!("button"in i)&&t._k(i.keyCode,"enter",13))return null;t.edititemprice(i,e.barcode)}]}})]:!e.itemPrice&&t.vipInfo.isAllowMemberPrice&&parseInt(e.memberPrice)<parseInt(e.price)?[i("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"cart-input",attrs:{type:"text"},domProps:{value:t._f("formatPrice")(e.memberPrice,2)},on:{keyup:[t.formatprice,function(i){if(!("button"in i)&&t._k(i.keyCode,"enter",13))return null;t.edititemprice(i,e.barcode)}]}})]:[i("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"cart-input",attrs:{type:"text"},domProps:{value:t._f("formatPrice")(e.price,2)},on:{keyup:[t.formatprice,function(i){if(!("button"in i)&&t._k(i.keyCode,"enter",13))return null;t.edititemprice(i,e.barcode)}]}})]]:[i("div",{staticClass:"J_EditPanel",on:{click:function(e){t.toggleeditstatus("price")}}},[e.itemPrice&&e.itemPrice!=e.price?[t._v("\n                                    "+t._s(t._f("formatPrice")(e.itemPrice,2))+" "),i("del",{staticClass:"del-font"},[t._v(t._s(t._f("formatPrice")(e.price,2)))])]:!e.itemPrice&&t.vipInfo.isAllowMemberPrice&&parseInt(e.memberPrice)<parseInt(e.price)?[t._v("\n                                    "+t._s(t._f("formatPrice")(e.memberPrice,2))+" "),i("del",{staticClass:"del-font"},[t._v(t._s(t._f("formatPrice")(e.price,2)))])]:[t._v("\n                                    "+t._s(t._f("formatPrice")(e.price,2))+"\n                                ")]],2)]],2),t._v(" "),i("td",[e.isCurrent&&"amount"==t.editType?[i("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"cart-input",attrs:{type:"text"},domProps:{value:e.amount},on:{keyup:[t.formatamount,function(i){if(!("button"in i)&&t._k(i.keyCode,"enter",13))return null;t.edititemamount(i,e.barcode)}]}})]:[i("div",{staticClass:"J_EditPanel",on:{click:function(e){t.toggleeditstatus("amount")}}},[t._v("\n                                "+t._s(e.amount)+"\n                            ")])]],2),t._v(" "),i("td",[t._v("\n                        "+t._s(t._f("formatPrice")(e.showPrice*e.amount,2))+"\n                    ")]),t._v(" "),i("td",[i("a",{staticClass:"btn",attrs:{href:"#"},on:{click:function(i){i.preventDefault(),t.delitembybarcode(e.barcode)}}})])])}))])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cart-header"},[i("table",{staticClass:"cart-table"},[i("thead",[i("tr",[i("th",{attrs:{width:"5%"}},[t._v("序号")]),t._v(" "),i("th",{attrs:{width:"20%"}},[t._v("条形码")]),t._v(" "),i("th",{attrs:{width:"25%"}},[t._v("商品名")]),t._v(" "),i("th",{attrs:{width:"10%"}},[t._v("单位")]),t._v(" "),i("th",{attrs:{width:"10%"}},[t._v("单价"),i("span",{staticClass:"key"},[t._v("O")])]),t._v(" "),i("th",{attrs:{width:"10%"}},[t._v("数量"),i("span",{staticClass:"key"},[t._v("P")])]),t._v(" "),i("th",{attrs:{width:"10%"}},[t._v("金额")]),t._v(" "),i("th",{attrs:{width:"10%"}},[t._v("删除"),i("span",{staticClass:"key"},[t._v("del")])])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("colgroup",[i("col",{attrs:{width:"5%"}}),t._v(" "),i("col",{attrs:{width:"20%"}}),t._v(" "),i("col",{attrs:{width:"25%"}}),t._v(" "),i("col",{attrs:{width:"10%"}}),t._v(" "),i("col",{attrs:{width:"10%"}}),t._v(" "),i("col",{attrs:{width:"10%"}}),t._v(" "),i("col",{attrs:{width:"10%"}}),t._v(" "),i("col",{attrs:{width:"10%"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.getShowBindAlipay?i("div",{staticClass:"bindAlipay"},[i("h2",[t._v("支付宝授权")]),t._v(" "),"1"==t.bindStatus?i("div",{staticClass:"authentication"},[i("div",{staticClass:"code"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"mobileCode",attrs:{maxlength:"4",type:"tel",name:"",placeholder:"验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),t.codeSendDelay>0?i("span",{staticClass:"getMobileCode textGray"},[t._v(t._s(t.getCodeText))]):i("span",{staticClass:"getMobileCode",on:{click:t.getMobileCode}},[t._v(t._s(t.getCodeText))])]),t._v(" "),4==t.code.length?i("div",{staticClass:"next nextNow",on:{click:t.checkCode}},[t._v("下一步")]):i("div",{staticClass:"next"},[t._v("下一步")])]):"2"==t.bindStatus?i("div",{staticClass:"bindCentent"},[i("div",{staticClass:"left"},[i("h3",[t._v("扫码授权")]),t._v(" "),i("div",{ref:"J_QRcodeImg",staticClass:"QRcodeImg"}),t._v(" "),t.isQRcodeEffective?i("div",[t._v("请使用支付宝扫码授权")]):i("div",{on:{click:t.getGaveUrl}},[t._v("二维码已失效，点击更新二维码")])]),t._v(" "),i("div",{staticClass:"right"},[i("h3",[t._v("授权帮助")]),t._v(" "),i("div",{staticClass:"helpCentent"},[i("span",[t._v("1、打开手机，使用支付宝扫一扫，扫描二维码")]),t._v(" "),i("img",{attrs:{src:"http://imgsize.52shangou.com/img/n/01/10/1483978410760_6142.png"}}),t._v(" "),i("span",[t._v("2、扫码后，点击“确认授权”")]),t._v(" "),i("img",{attrs:{src:"http://imgsize.52shangou.com/img/n/01/10/1483978415629_916.png"}})])])]):"3"==t.bindStatus?i("div",{staticClass:"bindOK"},[i("div",{staticClass:"icon"}),t._v(" "),i("div",{staticClass:"text1"},[t._v("支付宝绑定成功")]),t._v(" "),i("div",{staticClass:"text2"},[t._v("恭喜，您可以使用支付宝收款了")])]):"4"==t.bindStatus?i("div",{staticClass:"bindFailHelp"},[i("h2",[t._v("开通失败帮助")]),t._v(" "),i("div",{staticClass:"helpCentent"},[i("span",[t._v("若您开通时出现如下“开通失败”，很抱歉！您当前的支付宝账号可能已有使用中或签约中的其他收款产品")]),t._v(" "),i("img",{attrs:{src:"http://imgsize.52shangou.com/img/n/03/23/1490253474419_8722.png"}}),t._v(" "),i("span",[t._v("您可以：")]),t._v(" "),i("span",[t._v("1、尝试使用其他支付宝账号重新帮助如您的配偶、合伙人、朋友等值得信赖的人的支付宝账号")]),t._v(" "),i("span",{staticClass:"refresh J_refresh"},[t._v("更换支付宝账号重绑")]),t._v(" "),i("span",[t._v("2、如没有合适的支付宝账号，您需要联系支付宝，改签收款产品。请拨打电话：0571 - 88158090，按3联系人工客服。告知客服\n「目前自己的支付宝签约的其他收款产品，没有办法签约当面付，需要解约目前绑定的收单产品")]),t._v(" "),i("span",[t._v("3、如以上方式都无法解决，您可以联系小象掌柜0571-86100014，我们会尽力帮您解决问题。")])])]):"5"==t.bindStatus?i("div",{staticClass:"checkBind"},[i("div",{staticClass:"left"},[i("h3",[t._v("已开通收款？")]),t._v(" "),i("div",{staticClass:"checkTips"},[t._v("检测下是否已绑定成功")]),t._v(" "),i("div",{staticClass:"checkBtn",on:{click:function(e){t.checkAlipayBindInfo("manual")}}},[t._v("检查绑定")]),t._v(" "),i("div",{staticClass:"bindFailHelp",on:{click:function(e){t.modifyBindStatus("4")}}},[t._v("开通失败帮助")])]),t._v(" "),i("div",{staticClass:"right"},[i("h3",[t._v("开通操作说明")]),t._v(" "),i("div",{staticClass:"helpCentent"},[i("span",[t._v("1、点击“立即开通”，进行签约操作")]),t._v(" "),i("img",{attrs:{src:"http://imgsize.52shangou.com/img/n/03/23/1490253314616_5799.png"}}),t._v(" "),i("span",[t._v("2、填写店铺地址")]),t._v(" "),i("img",{attrs:{src:"http://imgsize.52shangou.com/img/n/01/10/1483978421878_2813.png"}}),t._v(" "),i("span",[t._v("3、提交后，出现如下页面即授权成功。您可在小象掌柜查看支付宝账号绑定结果！")]),t._v(" "),i("img",{attrs:{src:"http://imgsize.52shangou.com/img/n/01/10/1483978424762_7951.png"}})])])]):"0"==t.bindStatus?i("div",{staticClass:"bindFail"},[i("div",{staticClass:"icon"}),t._v(" "),i("div",{staticClass:"text1"},[t._v("抱歉，绑定失败")]),t._v(" "),i("div",{staticClass:"text2"},[t._v("您可能已有使用中或签约中的其他收款产品")]),t._v(" "),i("div",{staticClass:"help"},[i("div",[t._v("* 如您未开通收款。"),i("span",{on:{click:function(e){t.modifyBindStatus("1")}}},[t._v("立即开通")])]),t._v(" "),i("div",[t._v("* 如开通中支付宝提示“开通失败”。"),i("span",{on:{click:function(e){t.modifyBindStatus("4")}}},[t._v("查看失败帮助")])])])]):t._e(),t._v(" "),i("div",{staticClass:"close",on:{click:t.close}})]):t._e(),t._v(" "),t.getShowBindAlipay?i("div",{staticClass:"shade"}):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"content"}},[i("div",{staticClass:"panel"},[t._m(0),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"close J_close",on:{click:t.closeLogin}}),t._v(" "),t.isShowLogin?[i("div",{staticClass:"login-panel"},[i("h2",[t._v("登录")]),t._v(" "),i("div",{staticClass:"errorTips",class:{showErrorTips:t.isShowLoginError}},[i("span",{staticClass:"errorText J_errorText"},[t._v(t._s(t.loginErrorMsg))])]),t._v(" "),i("div",{staticClass:"login"},[i("label",[i("el-dropdown",{attrs:{trigger:"click"},on:{command:t.selectUser}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],staticClass:"mobile J_mobile",attrs:{maxlength:"11",type:"tel",name:"",placeholder:"手机号",autofocus:"autofocus"},domProps:{value:t.mobile},on:{input:[function(e){e.target.composing||(t.mobile=e.target.value)},t.checkLoginForm],keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.focusPassword(e)}}}),t._v(" "),i("el-dropdown-menu",{slot:"dropdown"},t._l(t.loginUserList,function(e){return i("el-dropdown-item",{attrs:{command:JSON.stringify(e)}},[t._v("\n                                        "+t._s(e.mobile)+"\n                                    ")])}))],1)],1),t._v(" "),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"J_password",staticClass:"password J_password",attrs:{maxlength:"16",type:"password",autocomplete:"new-password",name:"",placeholder:"密码"},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},t.checkLoginForm],keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.login(e)}}})]),t._v(" "),i("div",{staticClass:"autoLogin"},[i("input",{class:{unchecked:!t.isSavePassword,selected:t.isSavePassword},attrs:{id:"autoLogin",type:"checkbox",name:""},on:{click:function(e){t.isSavePassword=!t.isSavePassword}}}),t._v(" "),i("label",{attrs:{for:"autoLogin"}},[t._v("记住密码")]),t._v(" "),i("span",{staticClass:"forgotPassword J_forgotPassword",on:{click:function(e){t.isShowLogin=!1}}},[t._v("忘记密码")])]),t._v(" "),i("div",{staticClass:"loginBtn J_loginBtn",class:{btnNow:t.isLoginCanSubmit},on:{click:function(e){e.preventDefault(),t.login(e)}}},[i("span",{staticClass:"J_loginText"},[t._v("登录")]),t._v(" "),t._m(1)])])])]:[i("div",{staticClass:"forgetpassword-panel"},[i("h2",[t._v("找回密码")]),t._v(" "),i("div",{staticClass:"errorTips",class:{showErrorTips:t.isShowRetrieveError}},[i("span",{staticClass:"errorText"},[t._v(t._s(t.retrieveErrorMsg))])]),t._v(" "),i("div",{staticClass:"forget-password J_inputArea"},[t.isRetrievePasswordSucceed?[i("i",{staticClass:"icon icon-succeed"}),t._v(" "),i("p",{staticClass:"succeed-text"},[t._v("密码设置成功")])]:[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.retrieveMobile,expression:"retrieveMobile"}],staticClass:"mobile",attrs:{type:"tel",name:"",maxlength:"11",autofocus:"autofocus",placeholder:"手机号"},domProps:{value:t.retrieveMobile},on:{input:[function(e){e.target.composing||(t.retrieveMobile=e.target.value)},t.checkRetrievePassForm]}})]),t._v(" "),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"code",attrs:{type:"tel",name:"",placeholder:"验证码",maxlength:"4"},domProps:{value:t.code},on:{input:[function(e){e.target.composing||(t.code=e.target.value)},function(e){t.checkCode(),t.checkRetrievePassForm()}]}}),t._v(" "),i("span",{ref:"J_sendCode",staticClass:"getCode",class:[t.isCanSendCode?"codeActive":"codeInactive"],on:{click:t.getMobileCode}},[t._v("获取")])]),t._v(" "),i("div",{staticClass:"pswBox"},[i("label",[t.isSeePwd?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.retrievePassword,expression:"retrievePassword"}],staticClass:"password",attrs:{type:"text",name:"",minlength:"6",autocomplete:"new-password",maxlength:"16",placeholder:"密码 6 ~ 16位"},domProps:{value:t.retrievePassword},on:{input:[function(e){e.target.composing||(t.retrievePassword=e.target.value)},t.checkRetrievePassForm]}})]:[i("input",{directives:[{name:"model",rawName:"v-model",value:t.retrievePassword,expression:"retrievePassword"}],staticClass:"password",attrs:{type:"password",name:"",minlength:"6",autocomplete:"new-password",maxlength:"16",placeholder:"密码 6 ~ 16位"},domProps:{value:t.retrievePassword},on:{input:[function(e){e.target.composing||(t.retrievePassword=e.target.value)},t.checkRetrievePassForm]}})]],2),t._v(" "),i("div",{staticClass:"seeORhide",class:{hide:!t.isSeePwd,see:t.isSeePwd},on:{click:function(e){t.isSeePwd=!t.isSeePwd}}})]),t._v(" "),i("div",{staticClass:"btn",class:[t.isRetrieveCanSubmit?"btnNow":"btnInactive"],on:{click:t.retrieve}},[t._v("确定\n\n                            ")]),t._v(" "),i("div",{staticClass:"btn btnBack",on:{click:t.backLogin}},[i("i",{staticClass:"icon icon-back"}),t._v("返回")])]],2),t._v(" "),i("div",{staticClass:"tipsArea J_tipsArea hidden"},[i("i",{staticClass:"tipsIcon"}),t._v("\n                        密码设置成功\n                    ")])])]],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left"},[i("img",{attrs:{src:"http://imgsize.52shangou.com/img/n/03/22/1490175401255_4389.png"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"preloader-1"}},[i("span")])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("router-view")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"top-search"},[i("div",{staticClass:"search-panel"},[i("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.barcode,expression:"barcode"}],staticClass:"code-input J_InputCode",attrs:{type:"text",placeholder:"扫码 或 输入商品条形码"},domProps:{value:t.barcode},on:{focus:t.inputfocus,blur:t.inputblur,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.search(e)},input:function(e){e.target.composing||(t.barcode=e.target.value)}}}),t._v(" "),i("span",{staticClass:"code-btn",class:{"code-btn-active":t.isActive},on:{click:t.search}},[i("p",{staticClass:"num"},[t._v("确定")]),t._v(" "),i("p",{staticClass:"key"},[t._v("[enter]")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"balance-title"},[t._v("现金")]),t._v(" "),i("div",{staticClass:"editArea"},[i("ul",[i("li",{staticClass:"liH"},[i("label",[t._v("应收")]),t._v(" "),t.getWipingZeroStatus?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.totalPrice,expression:"totalPrice"},{name:"focus",rawName:"v-focus"}],staticClass:"inputW",attrs:{type:"number"},domProps:{value:t.totalPrice},on:{input:function(e){e.target.composing||(t.totalPrice=e.target.value)},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("span",{staticClass:"wipingZero",on:{click:t.wipingZero}},[t._v("取消抹零[M]")])]:[i("span",{staticClass:"receivable"},[t._v(t._s(t._f("formatPrice")(t.getOriginalPrice,2)))]),t._v(" "),i("span",{staticClass:"wipingZero",on:{click:t.wipingZero}},[t._v("抹零[M]")])]],2),t._v(" "),i("li",{staticClass:"wipingZeroInfo"},[t.getWipingZeroStatus?[t._v("\n                    原应收  "),i("span",[t._v(t._s(t._f("formatPrice")(t.getOriginalPrice,2)))]),t._v("，已抹零"+t._s(t._f("formatPrice")(t.getWipingZeroNum,2))+"\n                ")]:t._e()],2),t._v(" "),i("li",[i("label",[t._v("实收")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.netReceipts,expression:"netReceipts"},{name:"focus",rawName:"v-focus"}],staticClass:"inputW",attrs:{name:"",type:"number"},domProps:{value:t.netReceipts},on:{input:function(e){e.target.composing||(t.netReceipts=e.target.value)},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),i("li",{staticClass:"wipingZeroAmount"},[i("label",[t._v("找零")]),t._v(" "),t.getChangeNum?i("span",{staticClass:"fontRed"},[t._v(t._s(t._f("formatPrice")(t.getChangeNum,2)))]):t._e()])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"content"}},[i("header",{staticClass:"header balance-header"},[i("mainheader")],1),t._v(" "),i("content",{staticClass:"container balance-container"},[i("div",{staticClass:"payType"},[i("ul",t._l(t.payTypes,function(e){return i("li",[i("router-link",{attrs:{to:e.link}},[i("i",{staticClass:"icon",class:e.icon}),t._v("\n                        "+t._s(e.type)+"\n                        "),i("br"),t._v(" "),i("span",[t._v(t._s(e.keyMap))])])],1)}))]),t._v(" "),i("div",{staticClass:"payCentent"},[i("router-view",{staticClass:"payMain pay-main"})],1)]),t._v(" "),i("footer",{staticClass:"payFootBar"},[i("div",[i("div",{staticClass:"return",on:{click:t.linktohome}},[t._v("返回")]),t._v(" "),[i("div",{staticClass:"btn",on:{click:t.finishpay}},[t._v(t._s(t.btnText)),i("span",[t._v("[enter]")])])]],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"balance-title"},[t._v("支票")]),t._v(" "),i("div",{staticClass:"editArea"},[i("ul",[i("li",{staticClass:"liH"},[i("label",[t._v("应收")]),t._v(" "),t.getWipingZeroStatus?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.totalPrice,expression:"totalPrice"},{name:"focus",rawName:"v-focus"}],staticClass:"inputW",attrs:{type:"number"},domProps:{value:t.totalPrice},on:{input:function(e){e.target.composing||(t.totalPrice=e.target.value)},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("span",{staticClass:"wipingZero",on:{click:t.wipingZero}},[t._v("取消抹零[M]")])]:[i("span",{staticClass:"receivable"},[t._v(t._s(t._f("formatPrice")(t.getOriginalPrice,2)))]),t._v(" "),i("span",{staticClass:"wipingZero",on:{click:t.wipingZero}},[t._v("抹零[M]")])]],2),t._v(" "),i("li",{staticClass:"wipingZeroInfo"},[t.getWipingZeroStatus?[t._v("\n                    原应收  "),i("span",[t._v(t._s(t._f("formatPrice")(t.getOriginalPrice,2)))]),t._v("，已抹零"+t._s(t._f("formatPrice")(t.getWipingZeroNum,2))+"\n                ")]:t._e()],2),t._v(" "),i("li",[i("label",{staticClass:"bankMarkText"},[t._v("备注")]),t._v(" "),i("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"bankMark",attrs:{name:"",type:"text"},on:{keyup:t.updataMark}})]),t._v(" "),i("li",{staticClass:"bankTips"},[t._v("\n                请使收取支票\n            ")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"balance-title"},[t._v("储值卡")]),t._v(" "),i("div",{staticClass:"editArea"},[i("ul",[t.getIsAllowMemberPrice?[i("li",{staticClass:"liH"},[i("label",[t._v("应收")]),t._v(" "),t.getWipingZeroStatus?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.totalPrice,expression:"totalPrice"},{name:"focus",rawName:"v-focus"}],staticClass:"inputW",attrs:{type:"number"},domProps:{value:t.totalPrice},on:{input:function(e){e.target.composing||(t.totalPrice=e.target.value)},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("span",{staticClass:"wipingZero",on:{click:t.wipingZero}},[t._v("取消抹零[M]")])]:[i("span",{staticClass:"receivable"},[t._v(t._s(t._f("formatPrice")(t.getOriginalPrice,2)))]),t._v(" "),i("span",{staticClass:"wipingZero",on:{click:t.wipingZero}},[t._v("抹零[M]")])]],2),t._v(" "),i("li",{staticClass:"wipingZeroInfo"},[t.getWipingZeroStatus?[t._v("\n                        原应收  "),i("span",[t._v(t._s(t._f("formatPrice")(t.getOriginalPrice,2)))]),t._v("，已抹零"+t._s(t._f("formatPrice")(t.getWipingZeroNum,2))+"\n                    ")]:t._e()],2),t._v(" "),i("li",{staticClass:"wipingZeroAmount balanceTop"},[i("label",[t._v("账户余额")]),t._v(" "),i("span",[t._v(t._s(t._f("formatPrice")(t.getBalance,2)))])]),t._v(" "),i("li",{staticClass:"wipingZeroAmount"},[i("label",[t._v("收款后余额")]),t._v(" "),i("span",{staticClass:"fontRed"},[t._v(t._s(t.backBalance))])])]:[i("li",{staticClass:"notVip"},[i("i",{staticClass:"icon"}),t._v("\n                    请返回收银，输入会员后使用\n                ")])]],2)]),t._v(" "),t.isEncryption?[i("div",{staticClass:"passwordArea"},[i("h2",[t._v("请会员输入密码")]),t._v(" "),i("div",{staticClass:"passwordText"},[i("div",{staticClass:"password"}),t._v(" "),i("div",{staticClass:"passwordStyle"},[i("div",{staticClass:"blinkLine",style:t.blinkLine}),t._v(" "),i("div",{staticClass:"nowPwdLocation2",style:t.styleObject2}),t._v(" "),t._l(t.spans,function(e){return i("span",[t._v("\n                        "+t._s(e)+"\n                    ")])})],2)]),t._v(" "),i("div",{staticClass:"tips"},[t._v(t._s(t.tips))]),t._v(" "),i("div",{staticClass:"cancel"},[t._v("取消[esc]")])])]:t._e()],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.bindAlipay?i("div",[i("h1",{staticClass:"balance-title"},[t._v("微信")]),t._v(" "),i("div",{staticClass:"editArea"},[i("ul",[i("li",{staticClass:"liH"},[i("label",[t._v("应收")]),t._v(" "),t.getWipingZeroStatus?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.totalPrice,expression:"totalPrice"},{name:"focus",rawName:"v-focus"}],staticClass:"inputW",attrs:{type:"number"},domProps:{value:t.totalPrice},on:{input:function(e){e.target.composing||(t.totalPrice=e.target.value)},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("span",{staticClass:"wipingZero",on:{click:t.wipingZero}},[t._v("取消抹零[M]")])]:[i("span",{staticClass:"receivable"},[t._v(t._s(t._f("formatPrice")(t.getOriginalPrice,2)))]),t._v(" "),i("span",{staticClass:"wipingZero",on:{click:t.wipingZero}},[t._v("抹零[M]")])]],2),t._v(" "),i("li",{staticClass:"wipingZeroInfo"},[t.getWipingZeroStatus?[t._v("\n                        原应收  "),i("span",[t._v(t._s(t._f("formatPrice")(t.getOriginalPrice,2)))]),t._v("，已抹零"+t._s(t._f("formatPrice")(t.getWipingZeroNum,2))+"\n                    ")]:t._e()],2),t._v(" "),t.scanPrompt?i("li",{staticClass:"scanPrompt"},[t._v("\n                    请使用扫码枪，扫描微信付款码\n                    "),i("span",{on:{click:function(e){t.showScanPrompt()}}},[t._v("手动输入付款码[F]")])]):i("li",[i("label",[t._v("付款码")]),t._v(" "),i("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"paymentCode",attrs:{maxlength:"18",name:"",type:"text"},on:{focus:t.inputfocus,blur:t.inputblur,keyup:t.updateqrcode}})])])])]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("div",{staticClass:"main-header"},[i("span",{staticClass:"logo"}),t._v(" "),i("span",{staticClass:"info"},[i("span",{staticClass:"title"},[t._v("小象掌柜")]),t._v(" "),i("span",{staticClass:"sub-title"},[t._v(t._s(t.shopName))]),t._v(" "),i("span",{staticClass:"line"}),t._v(" "),i("span",{staticClass:"sub-title pos-user"},[t._v("收银员："+t._s(t.realName))]),t._v(" "),i("span",{staticClass:"line"}),t._v(" "),i("span",{staticClass:"sub-title clock-panel",attrs:{id:"J_Clock"}})]),t._v(" "),i("span",{staticClass:"group-btn"},[i("span",{staticClass:"btn btn-next",on:{click:t.nextshift}},[t._v("交班[B]")]),t._v(" "),i("span",{staticClass:"btn btn-lock",on:{click:t.lockpos}},[t._v("锁机[Ctrl+L]")]),t._v(" "),i("span",{staticClass:"icon icon-wifi",class:{"icon-wifi-disabled":!t.getNetWorkStatus}}),t._v(" "),i("span",{staticClass:"icon icon-window",on:{click:t.miniwindow}})])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lazy-load"},[t.show?t._t("default"):t._e(),t._v(" "),t.show?t._e():i("div",{class:[t.maskClass?t.maskClass:"lazy-load-mask"]},[t._v(t._s(t.tip))])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cart-list"},[t._m(0),t._v(" "),i("div",{staticClass:"cart-body"},[i("table",{staticClass:"cart-table"},[t._m(1),t._v(" "),i("tbody",[t.refundList.length>0?t._l(t.refundList,function(e,a){return i("tr",{key:e.itemId,class:{"current fade J_CurTr":e.isCurrent}},[i("td",[t._v(t._s(t.refundList.length-a))]),t._v(" "),i("td",[t._v(t._s(e.barcode))]),t._v(" "),i("td",[t._v(t._s(t._f("formatname")(e.itemName))),e.property?[t._v(t._s(t._f("formatproperty")(e.property)))]:t._e()],2),t._v(" "),i("td",[t._v(t._s(e.unit))]),t._v(" "),i("td",[e.isCurrent&&"price"==t.refundEditType?[e.itemPrice&&e.itemPrice!=e.price?[i("input",{staticClass:"cart-input",attrs:{type:"text"},domProps:{value:t._f("formatPrice")(e.itemPrice,2)},on:{keyup:function(i){if(!("button"in i)&&t._k(i.keyCode,"enter",13))return null;t.edititemprice(i,e.barcode)}}})]:[i("input",{staticClass:"cart-input",attrs:{type:"text"},domProps:{value:t._f("formatPrice")(e.price,2)},on:{keyup:function(i){if(!("button"in i)&&t._k(i.keyCode,"enter",13))return null;t.edititemprice(i,e.barcode)}}})]]:[e.itemPrice&&e.itemPrice!=e.price?[t._v("\n                                "+t._s(t._f("formatPrice")(e.itemPrice,2))+"\n                                "),i("del",{staticClass:"del-font"},[t._v(t._s(t._f("formatPrice")(e.price,2)))])]:[t._v("\n                                "+t._s(t._f("formatPrice")(e.price,2))+"\n                            ")]]],2),t._v(" "),i("td",[e.isCurrent&&"amount"==t.refundEditType?[i("input",{staticClass:"cart-input",attrs:{type:"text"},domProps:{value:e.amount},on:{keyup:function(i){if(!("button"in i)&&t._k(i.keyCode,"enter",13))return null;t.edititemamount(i,e.barcode)}}})]:[t._v("\n                            "+t._s(e.amount)+"\n                        ")]],2),t._v(" "),i("td",[e.itemPrice?[e.itemPrice&&e.itemPrice!=e.price?[t._v("\n                                "+t._s(t._f("formatPrice")(e.itemPrice*e.amount,2))+"\n\n                            ")]:[t._v("\n                                "+t._s(t._f("formatPrice")(e.price*e.amount,2))+"\n\n                            ")]]:[t._v("\n                            "+t._s(t._f("formatPrice")(e.price*e.amount,2))+"\n\n                        ")]],2),t._v(" "),i("td",[i("a",{staticClass:"btn",attrs:{href:"#"},on:{click:function(i){i.preventDefault(),t.delitembybarcode(e.barcode)}}})])])}):[i("p",{staticClass:"no-list"},[t._v("请 扫码 或 手动输入 需退货的商品条形码")])]],2)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cart-header"},[i("table",{staticClass:"cart-table"},[i("thead",[i("tr",[i("th",{attrs:{width:"5%"}},[t._v("序号")]),t._v(" "),i("th",{attrs:{width:"20%"}},[t._v("条形码")]),t._v(" "),i("th",{attrs:{width:"25%"}},[t._v("商品名")]),t._v(" "),i("th",{attrs:{width:"10%"}},[t._v("单位")]),t._v(" "),i("th",{attrs:{width:"10%"}},[t._v("单价"),i("span",{staticClass:"key"},[t._v("O")])]),t._v(" "),i("th",{attrs:{width:"10%"}},[t._v("数量"),i("span",{staticClass:"key"},[t._v("P")])]),t._v(" "),i("th",{attrs:{width:"10%"}},[t._v("金额")]),t._v(" "),i("th",{attrs:{width:"10%"}},[t._v("删除"),i("span",{staticClass:"key"},[t._v("del")])])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("colgroup",[i("col",{attrs:{width:"5%"}}),t._v(" "),i("col",{attrs:{width:"20%"}}),t._v(" "),i("col",{attrs:{width:"25%"}}),t._v(" "),i("col",{attrs:{width:"10%"}}),t._v(" "),i("col",{attrs:{width:"10%"}}),t._v(" "),i("col",{attrs:{width:"10%"}}),t._v(" "),i("col",{attrs:{width:"10%"}}),t._v(" "),i("col",{attrs:{width:"10%"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"print-test",attrs:{id:"content"}},[i("div",{staticClass:"wrapper clearfix"},[t._m(0),t._v(" "),i("div",{staticClass:"section"},[t.isStartPrint?[i("div",{staticClass:"test"},[i("p",{staticClass:"title"},[t._v("小票机打印测试")]),t._v(" "),i("p",{staticClass:"remind-text"},[t._v("请确保小票机已接入POS机")]),t._v(" "),i("div",{staticClass:"print-interface-list"},[i("table",{staticClass:"print-table"},[i("tbody",t._l(t.currentTestDeviceList,function(e,a){return i("tr",[i("td",[t._v("接口"+t._s(a+1)+"  打印检测")]),t._v(" "),"start"===e.printStatus?i("td",{staticStyle:{color:"#E13D31"}},[t._v("打印中...")]):t._e(),t._v(" "),"finished"===e.printStatus?i("td",[t._v("打印结束")]):t._e(),t._v(" "),"failed"===e.printStatus?i("td",[t._v("打印失败 "),i("i",{staticClass:"icon icon-wrong"})]):t._e(),t._v(" "),"succeed"===e.printStatus?i("td",[t._v("打印成功 "),i("i",{staticClass:"icon icon-right"})]):t._e()])}))])]),t._v(" "),0==t.printDeviceList.length?[i("div",{staticClass:"no-device"},[i("p",[t._v("小票机打印失败")]),t._v(" "),i("p",[t._v("请检查小票机是否已接入Pos机，或是否安装打印机驱动")])])]:t._e(),t._v(" "),t.isShowPopover?[i("div",{staticClass:"popover confirm-print-result"},[i("div",{staticClass:"popover-body"},[i("p",[t._v("打印机是否已正确打印出小票？")])]),t._v(" "),i("div",{staticClass:"popover-footer"},[i("button",{staticClass:"sure-btn",on:{click:t.testSucceed}},[t._v("是")]),t._v(" "),i("button",{staticClass:"gray-btn",on:{click:t.testFailed}},[t._v("否")])])])]:t._e(),t._v(" "),t.isListTestFinished?[t.isPrintSucceed?i("div",{staticClass:"print-result"},[i("button",{staticClass:"sure-btn",on:{click:t.updateConfig}},[t._v("完成")])]):i("div",{staticClass:"print-result"},[i("button",{staticClass:"sure-btn",on:{click:t.startPrint}},[t._v("重试")]),t._v(" "),i("button",{staticClass:"gray-btn",on:{click:t.updateConfig}},[t._v("跳过")])])]:t._e()],2)]:[i("div",{staticClass:"start"},[i("p",{staticClass:"title"},[t._v("小票机连接设置")]),t._v(" "),i("p",{staticClass:"remind-text"},[t._v("请确保小票机已接入POS机")]),t._v(" "),i("button",{staticClass:"start-btn print-btn",on:{click:t.startPrint}},[t._v("开始打印")])])]],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"aside"},[i("img",{attrs:{src:"http://imgsize.52shangou.com/img/n/03/22/1490163422396_4188.png"}})])}]}},,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(126);!function(t){t&&t.__esModule}(a);e.default={name:"app"}},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},r=i(2),n=i(1),o=a(n),c=i(4);a(c);e.default={data:function(){return{show:!0,bindStatus:"1",codeSendDelay:"0",getCodeText:"获取",bindingId:"",G_COUNT:null,TIMER:120,bindAliPayStatus:!1,code:"",isQRcodeEffective:!0}},computed:s({},(0,r.mapGetters)(["getShowBindAlipay"])),methods:{getdomain:function(t){var e=document.domain;return-1!=e.indexOf("www")||-1!=e.indexOf("h5.m")?"ajax"==t?"http://www.52shangou.com":"http://h5.m.52shangou.com":-1!=e.indexOf("daily")||-1!=e.indexOf("localhost")||-1!=e.indexOf("dev")?"ajax"==t?"http://daily.52shangou.com":"http://daily.m.52shangou.com":-1!=e.indexOf("gray")?"ajax"==t?"http://gray.52shangou.com":"http://gray.m.52shangou.com":void 0},getMobileCode:function(){var t=this;lib.ajax({url:t.getdomain("ajax")+"/poscrm/zg/send_alipay_binding_sms_auth_code.do",isEncrypt:!0,dataType:"json",xhrFields:{withCredentials:!0},success:function(e){e&&e.status?(t.codeSendDelay=60,t.reloadSend(),o.default.toast(e.message,"notice",2e3)):o.default.toast(e.message,"notice",2e3)},error:function(t,e,i){var a;t&&t.responseText&&(a=JSON.parse(t.responseText),o.default.toast(a.message,"notice",2e3)),"timeout"==e?o.default.toast("忙坏了,请稍后再试","notice",2e3):o.default.toast(a.message,"notice",2e3)}})},reloadSend:function(){var t=this;this.codeSendDelay=this.codeSendDelay-1,this.codeSendDelay>0?(this.getCodeText=this.codeSendDelay+"秒后重发",setTimeout(t.reloadSend,1e3)):this.getCodeText="重发"},checkCode:function(){var t=this;lib.ajax({url:t.getdomain("ajax")+"/poscrm/zg/verify_alipay_binding_sms_auth_code.do",data:{auth_code:t.code},type:"POST",dataType:"json",xhrFields:{withCredentials:!0},success:function(e){e.status?(t.bindStatus="2",t.getGaveUrl()):console.log(e.messages)},timeout:1e4,error:function(t,e,i){var a;t&&t.responseText&&(a=JSON.parse(t.responseText)),"timeout"==e?o.default.toast("忙坏了，请稍后再试","notice",2e3):o.default.toast(a.message,"notice",2e3)}})},getGaveUrl:function(){var t=this;t.isQRcodeEffective=!0,lib.ajax({url:t.getdomain("ajax")+"/poscrm/zg/gen_alipay_app2app_auth_redirect_url.do",data:{},dataType:"json",xhrFields:{withCredentials:!0},success:function(e){e.status?(e.entry.redirect_url&&(t.QRcode(e.entry.redirect_url),t.bindingId=e.entry.binding_id,console.log(e)),t.checkBindStatus(),console.log(e.message)):alert(e)},timeout:1e4,error:function(t,e,i){var a=JSON.parse(t.responseText);a&&!a.status&&console.log(a.message)}})},checkBindStatus:function(){var t=this;this.G_COUNT=setInterval(function(){if(t.checkAlipayBindInfo(),t.TIMER<=0||"3"==t.bindStatus)return console.log("失效"),t.isQRcodeEffective=!1,void clearInterval(t.G_COUNT);t.TIMER--},5e3)},checkAlipayBindInfo:function(t){var e=this;"manual"==t&&(e.TIMER="0"),lib.ajax({url:e.getdomain("ajax")+"/poscrm/zg/check_ongoing_alipay_binding_status.do",data:{binding_id:e.bindingId},dataType:"json",xhrFields:{withCredentials:!0},success:function(i){i&&i.status?("manual"==t&&(i.entry.alipay_auth_success&&i.entry.alipay_sign_success?(e.bindStatus="3",console.log("支付宝授权成功且签约成功")):e.bindStatus="0"),i.entry.alipay_auth_success&&i.entry.alipay_sign_success?(e.bindStatus="3",console.log("支付宝授权成功且签约成功")):i.entry.alipay_auth_success&&!i.entry.alipay_sign_success?(clearInterval(e.G_COUNT),console.log("支付宝授权成功但签约失败")):!i.entry.alipay_auth_success&&i.entry.alipay_sign_success?(localStorage.setItem("bindOK","error"),console.log("token失效")):console.log("支付宝授权失败")):console.log(i.message)},timeout:1e4,error:function(t,e,i){var a;t&&t.responseText&&(a=JSON.parse(t.responseText)),"timeout"==e?o.default.toast("忙坏了，请稍后再试","notice",2e3):o.default.toast(a.message,"notice",2e3)}})},QRcode:function(t){this.$refs.J_QRcodeImg.innerHTML="";var e=new QRCode(this.$refs.J_QRcodeImg,{width:180,height:180});setTimeout(e.makeCode(t),5e3)},close:function(){this.$store.dispatch("setShowBindAlipay"),console.log("取消")},modifyBindStatus:function(t){this.bindStatus=t}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},s=i(2),r=i(1),n=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={data:function(){return{}},computed:a({},(0,s.mapGetters)(["cartList","editType","vipInfo"])),mounted:function(){var t=this;document.addEventListener("click",function(e){if(t.editType&&"J_EditPanel"!=e.target.className){var i="";t.cartList&&t.cartList.forEach(function(t){t.isCurrent&&(i=t.barcode)});var a=document.getElementsByClassName("cart-input")[0].value;if("price"==t.editType)if(n.default.isTwoDecimalsPlace(a)){var s=100*Number(a),r=parseInt(s,10);t.$store.dispatch("editItemPrice",[r,i,"cartList"]),t.$store.dispatch("setBalanceInfo")}else n.default.toast("单价错误","failed",2e3);else"amount"==t.editType&&(n.default.isPositiveInteger(a)?(t.$store.dispatch("editItemAmount",[a,i,"cartList"]),t.$store.dispatch("setBalanceInfo")):n.default.toast("数量错误","failed",2e3))}},!1)},methods:{delitembybarcode:function(t){this.$store.dispatch("delCartItemFromList",[t,"cartList"]),this.$store.dispatch("setBalanceInfo")},edititemamount:function(t,e){var i=t.target.value;n.default.isPositiveInteger(i)?(this.$store.dispatch("editItemAmount",[i,e,"cartList"]),this.$store.dispatch("setBalanceInfo")):n.default.toast("数量错误","failed",2e3)},edititemprice:function(t,e){var i=t.target.value;if(n.default.isTwoDecimalsPlace(i)){var a=100*Number(i),s=parseInt(a,10);this.$store.dispatch("editItemPrice",[s,e,"cartList"]),this.$store.dispatch("setBalanceInfo")}else n.default.toast("单价错误","failed",2e3)},toggleeditstatus:function(t){this.$store.dispatch("setItemEditType",t)},formatprice:function(t){t.target.value=t.target.value.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3")},formatamount:function(t){t.target.value=t.target.value.replace(/\D/g,"")}},components:{}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"LazyRender",data:function(){return{show:!0}},props:{data:Array,maskClass:String,tip:{type:String,default:function(){return"正在渲染,请稍候"}},time:{type:Number,default:function(){return 10}},limit:{type:Number,default:function(){return 30}},trackByData:Boolean,immediately:Boolean},created:function(){this.showLazy()},watch:{data:function(){this.trackByData&&this.showLazy()},$route:function(){this.trackByData||this.showLazy()},immediately:function(){this.immediately&&this.showLazy()}},methods:{showLazy:function(){this.data&&this.data.length>this.limit||!this.data?this.syncLoader():(this.show=!0,this.$emit("loaded"))},syncLoader:function(){var t=this;this.show=!1,setTimeout(function(){t.show=!0,t.$emit("loaded")},this.time)}}}},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},r=i(2),n=i(1),o=a(n),c=i(4),l=a(c);e.default={data:function(){return{shopName:"",realName:""}},mounted:function(){this.initClock(),this.initNetWorkStatus(),this.initshopinfo(),this.queryLoginUserInfo()},computed:s({},(0,r.mapGetters)(["getNetWorkStatus"])),methods:{lockpos:function(){if(this.$store.getters.cartList.length>0)return void o.default.toast("当前收银未结束<br>不能锁机","notice",2e3);this.$router.push({path:"/lockpos"})},nextshift:function(){return this.$store.getters.cartList.length>0?void o.default.toast("当前收银未结束<br>不能交班","notice",2e3):this.$store.getters.shiftUsers.length<=1?void o.default.toast("无店员可交班","notice",2e3):void this.$router.push({path:"/nextshift"})},initClock:function(){function t(){e();var s=new Date,r="";r+=s.getMonth()+1+"月";var n=s.getDate();n>=0&&n<=9&&(n="0"+n),r+=n+"日",r+='<span class="week">'+i()+"</span>";var o=s.getHours();o<10&&(o="0"+o);var c=s.getMinutes();c<10&&(c="0"+c);var l=s.getSeconds();l<10&&(l="0"+l),r+=o,r+=":"+c,r+=":"+l;var u=document.getElementById("J_Clock");u&&(u.innerHTML=r,a.slidint=setTimeout(t,1e3))}function e(){clearTimeout(a.slidint)}function i(){var t,e,i,a=" ",i=new Array("周日","周一","周二"),i=i.concat("周三","周四","周五"),i=i.concat("周六");return t=new Date,e=t.getDay(),a+=i[e]}var a=this;t()},initNetWorkStatus:function(){var t=this;this.$store.dispatch("setNetWorkStatus",window.navigator.onLine),window.addEventListener("online",function(){t.$store.dispatch("setNetWorkStatus",window.navigator.onLine)},!1),window.addEventListener("offline",function(){t.$store.dispatch("setNetWorkStatus",window.navigator.onLine)},!1)},initshopinfo:function(){var t=l.default.getShopInfo();t.status?(this.shopName=t.entry.shopName,localStorage.setItem("posShopName",t.entry.shopName)):(this.shopName="",localStorage.setItem("posShopName",""))},queryLoginUserInfo:function(){var t=l.default.queryLoginUserInfo();t.status&&(this.realName=t.entry&&t.entry.realName?t.entry.realName:"",localStorage.setItem("posCurShift",this.realName)),this.$store.dispatch("getShiftUsers")},miniwindow:function(){l.default.miniWin()}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},s=i(2),r=i(1),n=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={data:function(){return{msg:"这里是收银列表"}},computed:a({},(0,s.mapGetters)(["refundList","refundEditType"])),methods:{delitembybarcode:function(t){this.$store.dispatch("delCartItemFromList",[t,"refundList"]),this.$store.dispatch("setRefundBalanceInfo")},edititemamount:function(t,e){var i=t.target.value;n.default.isPositiveInteger(i)?(this.$store.dispatch("editItemAmount",[i,e,"refundList"]),this.$store.dispatch("setRefundBalanceInfo")):n.default.toast("数量错误","failed",2e3)},edititemprice:function(t,e){var i=t.target.value;if(n.default.isTwoDecimalsPlace(i)){var a=100*Number(i),s=parseInt(a);this.$store.dispatch("editItemPrice",[s,e,"refundList"]),this.$store.dispatch("setRefundBalanceInfo")}else n.default.toast("单价错误","failed",2e3)}},components:{}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),s=function(t){return t&&t.__esModule?t:{default:t}}(a);window.inputType="hand",e.default={data:function(){return{barcode:""}},methods:{search:function(t){if(""!=this.barcode){if(!s.default.isValidBarcode(this.barcode))return s.default.toast("条形码错误","failed",2e3),!1;this.$emit("fromtopsearch",t,this.barcode),this.barcode=""}},inputfocus:function(t){window.inputType="hand"},inputblur:function(t){window.inputType="machine"}},computed:{isActive:function(){return!!this.barcode}}}},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},r=i(5),n=a(r),o=i(1),c=a(o),l=i(2),u={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},d=null,p="",f=0;e.default={data:function(){return{payTypes:[{type:"现金",keyMap:"F1",link:"/balance/cash",icon:"cash"},{type:"支付宝",keyMap:"F2",link:"/balance/alipay",icon:"alipay"},{type:"微信",keyMap:"F3",link:"/balance/weixin",icon:"weixin"},{type:"储蓄卡",keyMap:"F4",link:"/balance/stored_card",icon:"stored_card"},{type:"银行卡",keyMap:"F5",link:"/balance/bank_card",icon:"bank_card"},{type:"市民卡",keyMap:"F6",link:"/balance/citizen_card",icon:"citizen_card"},{type:"支票",keyMap:"F7",link:"/balance/check",icon:"check"}],isiWpingZero:!1,btnText:"完成收款"}},components:{mainheader:n.default},created:function(){var t=this;this.setOrderList(),this.init(),window.onkeydown=function(e){if(console.log(t.$router.options),t.isMachineInput()){d&&clearTimeout(d);var i=u[e.keyCode]||"";i&&(p+=i),""!=p&&(f+=1),d=setTimeout(function(){p="",f=0},100),13==e.keyCode&&f>11&&(location.hash.indexOf("alipay")>-1||location.hash.indexOf("weixin")>-1)&&(c.default.isPositiveInteger(p)?(t.$store.dispatch("setPayCode",p),t.finishpay(),console.log(p)):c.default.toast("付款码错误","notice",2e3),p="",f=0)}e&&112==e.keyCode?(t.$router.push({path:"cash"}),console.log("f1")):e&&113==e.keyCode?(t.$router.push({path:"alipay"}),console.log("f2")):e&&114==e.keyCode?(t.$router.push({path:"weixin"}),console.log("f3")):e&&115==e.keyCode?(t.$router.push({path:"stored_card"}),console.log("f4")):e&&116==e.keyCode?(t.$router.push({path:"bank_card"}),console.log("f5")):e&&117==e.keyCode?(t.$router.push({path:"citizen_card"}),console.log("f6")):e&&118==e.keyCode&&(t.$router.push({path:"check"}),console.log("f7"))}},methods:{isMachineInput:function(){if("2"==this.$store.getters.getPayType){if("hand"==window.alipayInputType)return!1;if("machine"==window.alipayInputType)return!0}else if("3"==this.$store.getters.getPayType){if("hand"==window.weixinInputType)return!1;if("machine"==window.weixinInputType)return!0}},init:function(){this.$store.dispatch("getPayType","1"),this.$store.dispatch("setPayInfo")},setOrderList:function(){var t=this,e=void 0!=localStorage.getItem("orderList")?JSON.parse(localStorage.getItem("orderList")):{};t.$store.dispatch("setOrderlist",e)},finishpay:function(){var t=this;this.$store.dispatch("finishPay",[function(){t.$store.dispatch("clearCartList"),t.$store.dispatch("setPayInfo")},function(){t.$store.dispatch("setVicestatus","default"),t.$store.dispatch("setPayInfo"),t.linktohome()}])},linktohome:function(){this.$router.push({path:"/home"}),this.$store.dispatch("getWipingZeroStatus","0")}},computed:s({},(0,l.mapGetters)(["getPayType"]))}},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(74),r=(a(s),i(23)),n=a(r),o=i(73),c=(a(o),i(16)),l=(a(c),i(8)),u=a(l),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},p=i(3),f=a(p),v=i(2),m=i(12),h=a(m),_=i(5),g=a(_),y=i(13),b=a(y),C=i(33),P=a(C),I=i(11),w=a(I),S=i(1),T=a(S),k=i(4),O=a(k),L=i(6),E=a(L);f.default.use(u.default),f.default.use(n.default);var N={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},x=null,M="",A=0;e.default={data:function(){return{mobile:"",hasSearched:!1,earningdilog:!1,isshowvipdialog:!1,isshowcancelvipdialog:!1,isshowcancelcartdialog:!1,isshowholdlistdialog:!1,ishasvip:!0,isshowtoast:!0,remark:"",notBindAlipay:!1,debugdialog:!1,method:"",param:""}},mounted:function(){var t=this;document.onkeydown=function(e){if(t.isMachineInput()){x&&clearTimeout(x);var i=N[e.keyCode]||"";i&&(M+=i),""!=M&&(A+=1),x=setTimeout(function(){M="",A=0},100),13==e.keyCode&&A>11&&(console.log(M),t.searchitem(e,M),M="",A=0)}switch(e.keyCode){case 80:t.$store.dispatch("setItemEditType","amount");break;case 79:t.$store.dispatch("setItemEditType","price");break;case 27:t.clearCartList();break;case 40:e.preventDefault(),t.toggleItemCurrent("down");break;case 38:e.preventDefault(),t.toggleItemCurrent("up");break;case 46:t.isshowholdlistdialog||t.$store.state.home.editType||t.isshowvipdialog||(t.$store.dispatch("delCartItemFromList",["","cartList"]),t.$store.dispatch("setBalanceInfo"));break;case 81:if(t.$store.getters.cartList.length>0){t.isshowholdlistdialog=!0;break}case 68:t.debugdialog=!0}},t.$store.dispatch("setBalanceInfo"),t.renderDistillholdlist(),this.initAliPayBindStatus(),this.storageCheckAliPayBindStatus()},computed:d({},(0,v.mapGetters)(["vipInfo","balanceInfo","cartList"]),{isBtn:function(){return!!this.mobile},report:function(){var t=O.default.getReportInfo(),e={};return t.status&&t.entry&&(e.totalOrderAmount=t.entry.totalOrderAmount,e.totalPrice=t.entry.totalPrice),e},lastorder:function(){var t={status:"2",orderByDesc:!0,orderByColumn:"bizOrderId",pageSize:1},e=JSON.stringify(t),i=O.default.getOrderByRuler(e),a={};return i.status&&i.entry&&i.entry.length>0?(a.hasLastOrder=!0,a.totalPrice=i.entry[0].totalPrice?i.entry[0].totalPrice:"0",i.entry[0].totalPrice==i.entry[0].actualPay?a.toZero=0:a.toZero=parseInt(i.entry[0].actualPay)-parseInt(i.entry[0].totalPrice?i.entry[0].totalPrice:"0")):(a.hasLastOrder=!1,a.totalPrice=0,a.toZero=0),a}}),methods:{initAliPayBindStatus:function(){var t=navigator.onLine,e=localStorage.getItem("bindalipay");if(t){O.default.isBindAlipayAccount().status?(this.notBindAlipay=!1,localStorage.setItem("bindalipay","true")):(this.notBindAlipay=!0,localStorage.setItem("bindalipay","false"))}else e&&"true"==e?this.notBindAlipay=!1:e&&"false"==e&&(this.notBindAlipay=!0)},storageCheckAliPayBindStatus:function(){var t=this;window.addEventListener("online",function(){t.initAliPayBindStatus()},!1)},linktobindalipay:function(){this.notBindAlipay=!1,this.$store.dispatch("setShowBindAlipay")},isMachineInput:function(){return"hand"!=window.inputType&&("machine"==window.inputType||void 0)},getvipinfo:function(){var t=this.mobile;T.default.isPositiveInteger(t)?(this.$store.dispatch("getVipInfo",t),this.$store.dispatch("setBalanceInfo"),this.hasSearched=!0):T.default.toast("卡号错误","failed",2e3)},confirmvip:function(){this.mobile="",this.isshowvipdialog=!1},cancelvip:function(){this.mobile="",this.isshowvipdialog=!1,this.hasSearched=!1,this.$store.dispatch("cancelVipInfo"),this.$store.dispatch("setBalanceInfo")},confrimCancelVip:function(){this.isshowcancelvipdialog=!1,this.hasSearched=!1,this.$store.dispatch("cancelVipInfo"),this.$store.dispatch("setBalanceInfo")},clearCartList:function(){this.$store.dispatch("clearCartList"),this.$store.dispatch("setBalanceInfo")},toggleItemCurrent:function(t){this.$store.dispatch("toggleItemCurrent",t)},tobuildpayorder:function(){this.$store.getters.cartList.length>0&&(this.$store.dispatch("toBuildPayOrder","1"),this.$router.push({path:"/balance/cash"}))},reprintorder:function(){var t={status:2},e=JSON.stringify(t),i=O.default.getOrderByRuler(e),a=O.default.getReportInfo(),s=O.default.getShopInfo(),r=O.default.queryLoginUserInfo(),n={report:a.status?a.entry:{},shop:s.status?s.entry&&s.entry.shopName:"",user:r.status?r.entry&&r.entry.realName:""},o=T.default.extend(i,n);(0,E.default)(o,"reprintorder")},printdayreport:function(){var t=O.default.getReportInfo(),e=O.default.getShopInfo(),i=O.default.queryLoginUserInfo(),a={report:t.status?t.entry:{},shop:e.status?e.entry&&e.entry.shopName:"",user:i.status?i.entry&&i.entry.realName:""};(0,E.default)(a,"dayreport")},gotoholdlist:function(){if(this.$store.getters.cartList.length>0)return void T.default.toast("有未结算商品","notice",2e3);var t=JSON.parse(localStorage.getItem("holdList"));t&&t.length>0&&this.$router.push({path:"holdlist"})},gotoreturngoods:function(){if(this.$store.getters.cartList.length>0)return void T.default.toast("有未结算商品","notice",2e3);this.$router.push({path:"returngoods"})},searchitem:function(t,e){this.$store.dispatch("getItemByBarcode",[e,"cartList"]),this.$store.dispatch("setBalanceInfo")},cancelholdlist:function(){this.isshowholdlistdialog=!1,this.remark=""},confirmholdlist:function(){var t=localStorage.getItem("holdList")?JSON.parse(localStorage.getItem("holdList")):[],e={holdtime:(new Date).getTime(),vipInfo:this.$store.getters.vipInfo,cartList:this.$store.getters.cartList,balanceInfo:this.$store.getters.balanceInfo,remark:this.remark};t.push(e),localStorage.setItem("holdList",JSON.stringify(t)?JSON.stringify(t):""),this.confrimCancelVip(),this.clearCartList(),this.isshowholdlistdialog=!1,this.remark=""},holdlistlength:function(){var t=localStorage.getItem("holdList")?JSON.parse(localStorage.getItem("holdList")):"";return"[]"!=t?t.length:0},renderDistillholdlist:function(){var t=localStorage.getItem("distillholdlist")?JSON.parse(localStorage.getItem("distillholdlist")):[];this.$store.dispatch("setDistillData",t)},scrollToView:function(){},reloadpage:function(){location.reload(!0)}},components:{mainheader:g.default,topsearch:b.default,cartlist:P.default,bindalipay:w.default,LazyRender:h.default}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(5),s=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default={data:function(){return{current:0,holdList:this.returnholdList(),isdisabled:this.returnisdisabled()}},methods:{returnholdList:function(){return localStorage.getItem("holdList")?JSON.parse(localStorage.getItem("holdList")):[]},returnisdisabled:function(){return!!(this.holdList&&this.holdList.length>0)},toggletab:function(t){this.current=t},distillholdlist:function(){var t=this.current,e=this.holdList[t];e&&(localStorage.setItem("distillholdlist",JSON.stringify(e)?JSON.stringify(e):""),this.holdList.splice(t,1),"[]"!=JSON.stringify(this.holdList)?localStorage.setItem("holdList",JSON.stringify(this.holdList)):localStorage.setItem("holdList",""),this.$router.push({path:"home"}))},backtohome:function(){this.$router.push({path:"home"})}},components:{mainheader:s.default}}},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),r=a(s),n=i(4),o=a(n);e.default={data:function(){return{password:""}},mounted:function(){document.body.style.backgroundColor="#2E2F31"},computed:{curloginuser:function(){var t=o.default.queryLoginUserInfo();return t.status&&(t.entry.firstname=t.entry.realName.substr(0,1)),t.entry}},methods:{submit:function(){var t=this;if(""!=this.password){var e=o.default.unlockpos(this.password);e.status?r.default.toast("解锁成功","notice",1e3,function(){t.$router.push({path:"home"})}):r.default.toast(e.message,"notice",2e3)}}}}},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(75),r=(a(s),i(24)),n=a(r),o=i(76),c=(a(o),i(25)),l=a(c),u=i(77),d=(a(u),i(16)),p=(a(d),i(26)),f=a(p),v=i(3),m=a(v),h=i(1),_=a(h),g=i(4),y=a(g),b=i(17),C=a(b);m.default.use(f.default),m.default.use(l.default),m.default.use(n.default),e.default={data:function(){return{isShowLogin:!0,loginUserList:[],mobile:"",password:"",isShowLoginError:!1,loginErrorMsg:"",isLoginCanSubmit:!1,isSavePassword:!0,retrieveMobile:"",retrievePassword:"",code:"",isCanSendCode:!1,sendCodeDelay:60,isSeePwd:!1,isShowRetrieveError:!1,retrieveErrorMsg:"",isRetrieveCanSubmit:!1,isRetrievePasswordSucceed:!1}},mounted:function(){this.queryLoginUserList()},methods:{closeLogin:function(){try{eleph.ui.login_close()}catch(t){}},queryLoginUserList:function(){try{var t=y.default.queryLoginUserList();if(t&&t.status){for(var e=t.entry||[],i=[],a=0;a<e.length;a++){var s=e[a]||{},r={mobile:s.mobile,password:1==s.attributes.isSavePassword?s.password:""};i.push(r),0===a&&(this.mobile=r.mobile,this.password=r.password,this.checkLoginForm())}this.loginUserList=i}}catch(t){}},selectUser:function(t){t=JSON.parse(t),this.mobile=t.mobile,this.password=t.password,this.checkLoginForm()},resetData:function(){Object.assign(this.$data,this.$options.data(),{loginUserList:this.loginUserList})},login:function(){if(this.checkLoginForm())try{var t=y.default.login(this.mobile,this.password,this.isSavePassword?"1":"0");if(t.status){var e=t.entry.cookies||[];for(var i in e)document.cookie=e[i];eleph.ui.homePage_open(),t.entry.isRegister&&"0"==t.entry.isRegister?this.$router.push({path:"printtest"}):this.$router.push({path:"home"})}else this.isShowLoginError=!0,this.loginErrorMsg=t.message}catch(t){}},checkMobile:function(t){return this[t]=this[t].replace(/[^0-9]/g,""),this.isCanSendCode="retrieveMobile"==t&&11==this[t].length,11==this[t].length},checkPassword:function(t){return t.length>=6},checkLoginForm:function(){return this.isLoginCanSubmit=!1,!!this.checkMobile("mobile")&&(!!this.checkPassword(this.password)&&(this.isLoginCanSubmit=!0,!0))},focusPassword:function(){this.$refs.J_password.focus(),this.checkMobile()},retrieve:function(){var t=this;this.checkRetrievePassForm()&&(0,C.default)({url:_.default.getOuterUrl("/member/reset_pos_pwd.do"),type:"POST",dataType:"json",data:JSON.stringify({code:t.code,mobile:t.retrieveMobile,pwd:t.retrievePassword,repwd:t.retrievePassword,role:"seller"}),success:function(e){e&&e.status?(t.isShowRetrieveError=!1,t.retrieveErrorMsg="",t.isRetrievePasswordSucceed=!0,setTimeout(function(){t.backLogin()},2e3)):(t.isShowRetrieveError=!0,t.retrieveErrorMsg=e.message,t.isRetrievePasswordSucceed=!1)}})},checkCode:function(){return this.code=this.code.replace(/[^0-9]/g,""),4==this.code.length},checkRetrievePassForm:function(){return this.isRetrieveCanSubmit=!1,!!this.checkMobile("retrieveMobile")&&(!!this.checkCode()&&(!!this.checkPassword(this.retrievePassword)&&(this.isRetrieveCanSubmit=!0,!0)))},countDown:function(t){var e=this;if(t<1)return e.isCanSendCode=!0,void(e.$refs.J_sendCode.innerText="重发验证码");e.$refs.J_sendCode.innerText=t+"秒后重发",setTimeout(function(){t--,e.countDown(t)},1e3)},getMobileCode:function(){var t=this;this.isCanSendCode&&(0,C.default)({url:_.default.getOuterUrl("/member/sendPosAuthCode.do"),data:{mobile:t.retrieveMobile,type:"sms"},isEncrypt:!0,dataType:"json",success:function(e){e&&e.status?(t.isCanSendCode=!1,t.countDown(60),_.default.toast("验证码已发送","succeed",2e3)):_.default.toast(e.message,"failed",2e3)},error:function(t,e,i){"timeout"===e?_.default.toast("忙坏了，让我歇会","请稍后再试","failed",2e3):_.default.toast("网络连接失败","请稍后再试","failed",2e3)}})},backLogin:function(){this.resetData(),this.isShowLogin=!0}},computed:{},components:{Dropdown:f.default,DropdownMenu:l.default,DropdownItem:n.default}}},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(4),r=a(s),n=i(1),o=a(n),c=i(6),l=a(c);i(2);e.default={data:function(){return{curfirstname:"",curusername:"",mobile:"",password:"",isshow:!1,userId:""}},computed:{list:function(){var t=JSON.parse(localStorage.getItem("shiftUsers"));return t&&t.length>0&&t.forEach(function(t){t.realName?(t.firstname=t.realName&&t.realName.substr(0,1),t.realName.length>4&&(t.realName=t.realName.substr(0,4))):(t.firstname=t.mobile.substr(t.mobile.length-4,4),t.realName=t.mobile)}),t}},mounted:function(){var t=this;document.onkeydown=function(e){switch(e.keyCode){case 82:t.resetChosse();break;case 27:t.backtohome();break;case 67:t.print()}},this.initemployee(),this.queryLoginUserInfo(),document.body.style.backgroundColor="#2E2F31"},methods:{select:function(t){this.isshow=!0,t&&(this.curfirstname=t.firstname,this.curusername=t.username,this.mobile=t.mobile)},resetChosse:function(){this.isshow=!1,this.curfirstname="",this.curusername="",this.mobile="",this.password=""},backtohome:function(){this.$router.push({path:"home"})},initemployee:function(){this.$store.dispatch("getShiftUsers")},queryLoginUserInfo:function(){var t=r.default.queryLoginUserInfo();t.status&&(this.userId=t.entry&&t.entry.userId?t.entry.userId:"")},submit:function(){var t=(JSON.stringify({mobile:this.mobile,password:this.password}),r.default.goShift(String(this.mobile),String(this.password)));t.status?(this.mobile="",this.password="",this.$router.push({path:"home"})):o.default.toast(t.message,"failed",2e3)},print:function(){var t=r.default.queryLastShiftHandover(),e=r.default.getShopInfo(),i=r.default.queryLoginUserInfo(),a=r.default.goShift(),s={report:t.status?t.entry[0]:{},shop:e.status?e.entry&&e.entry.shopName:"",user:i.status?i.entry&&i.entry.realName:"",curshift:a.status?a.entry&&a.entry.id:""};(0,l.default)(s,"nextshift")}},components:{}}},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),r=a(s),n=i(4),o=a(n),c=i(17),l=(a(c),i(6)),u=a(l);e.default={data:function(){return{isStartPrint:!1,printDeviceList:[],currentTestDeviceList:[],isShowPopover:!0,isListTestFinished:!1,isPrintSucceed:!1,printCfg:{}}},methods:{resetData:function(){Object.assign(this.$data,this.$options.data())},startPrint:function(){this.resetData(),this.isStartPrint=!0,this.queryPrintDeviceList(),this.testNextDevice()},queryPrintDeviceList:function(){try{var t=o.default.queryPrintDeviceList();if(t&&t.status){var e=t.entry||[],i=[];for(var a in e){var s=e[a]||{},r={printDeviceName:s.printDeviceName,printDevicePath:s.printDevicePath,printDeviceType:s.printDeviceType,printStatus:"start"};i.push(r)}this.printDeviceList=i}}catch(t){console.log(t)}},testFailed:function(){var t=this.currentTestDeviceList.length;t>0&&(this.currentTestDeviceList[t-1].printStatus="failed"),this.testNextDevice()},testSucceed:function(){var t=this.currentTestDeviceList.length;t>0&&(this.currentTestDeviceList[t-1].printStatus="succeed"),this.isShowPopover=!1,this.isPrintSucceed=!0,this.isListTestFinished=!0},testNextDevice:function(){var t=this,e=this.currentTestDeviceList.length,i=this.printDeviceList.length;if(e>=i)return this.isShowPopover=!1,this.isPrintSucceed=!1,void(this.isListTestFinished=!0);this.isShowPopover=!1,this.currentTestDeviceList.push(this.printDeviceList[e]);var a=this.currentTestDeviceList[e];this.printCfg=a;var s={printDevicePath:a.printDevicePath,printDeviceType:a.printDeviceType};(0,u.default)(s,"test"),setTimeout(function(){"start"===t.currentTestDeviceList[e].printStatus&&(t.currentTestDeviceList[e].printStatus="finished",t.isShowPopover=!0)},1e3)},updateConfig:function(){if(this.isPrintSucceed){var t={printerDriver:this.printCfg.printDeviceName,printerDriverPath:this.printCfg.printDevicePath,printerType:this.printCfg.printerType},e=o.default.updateConfig(t);r.default.toast(e.message,e&&e.status?"succeed":"failed",2e3)}this.backHome()},backHome:function(){this.$router.push({path:"home"})}},computed:{},components:{}}},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},r=i(5),n=a(r),o=i(13),c=a(o),l=i(34),u=a(l),d=i(1),p=a(d),f=i(4),v=a(f),m=i(6),h=a(m),_=i(2);e.default={data:function(){return{status:"refundbefore",earningdilog:!1}},computed:s({},(0,_.mapGetters)(["refundBalanceInfo","refundList"]),{report:function(){var t=v.default.getReportInfo(),e={};return t.status&&t.entry&&(e.totalOrderAmount=t.entry.totalOrderAmount,e.totalPrice=t.entry.totalPrice),e}}),mounted:function(){var t=this;document.onkeydown=function(e){switch(e.keyCode){case 79:t.$store.dispatch("setRefundEditType","price");break;case 80:t.$store.dispatch("setRefundEditType","amount");break;case 27:t.backtohome();break;case 40:e.preventDefault(),t.toggleItemCurrent("down");break;case 38:e.preventDefault(),t.toggleItemCurrent("up");break;case 8:t.$store.state.home.refundEditType||(t.$store.dispatch("delCartItemFromList",["","refundList"]),t.$store.dispatch("setRefundBalanceInfo"))}}},methods:{backtohome:function(){if(this.refundList.length>0)return void p.default.toast("有未退款商品","notice",2e3);this.$router.push({path:"home"})},searchitem:function(t,e){this.$store.dispatch("getItemByBarcode",[e,"refundList"]),this.$store.dispatch("setRefundBalanceInfo")},tobuildrefundorder:function(){this.$store.getters.refundList.length>0&&(this.status="refunding")},finishrefund:function(){var t=this;this.$store.dispatch("toBuildRefundOrder","2"),p.default.toast("退款成功","succeed",2e3,function(){t.$store.dispatch("clearRefundData"),t.$router.push({path:"home"})})},printdayreport:function(){var t=v.default.getReportInfo(),e=v.default.getShopInfo(),i=v.default.queryLoginUserInfo(),a={report:t.status?t.entry:{},shop:e.status?e.entry&&e.entry.shopName:"",user:i.status?i.entry&&i.entry.realName:""};(0,h.default)(a,"dayreport")}},components:{mainheader:n.default,topsearch:c.default,refundlist:u.default}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(2);e.default={data:function(){return{vicedata:{vicestatus:"default",vipInfo:{},cartList:[],balanceInfo:{},payInfo:{},refundBalanceInfo:{},refundList:[]}}},mounted:function(){var t=this;window.addEventListener("storage",function(e){if("vicedata"==e.key)if(e.newValue){var i=JSON.parse(e.newValue);t.vicedata.vicestatus=i.vicestatus,t.vicedata.vipInfo=i.vipInfo,t.vicedata.cartList=i.cartList,t.vicedata.balanceInfo=i.balanceInfo,t.vicedata.refundBalanceInfo=i.refundBalanceInfo,t.vicedata.refundList=i.refundList,t.vicedata.payInfo=i.payInfo}else t.vicestatus="default",t.vicedata.vipInfo={},t.vicedata.cartList=[],t.vicedata.balanceInfo={},t.vicedata.refundBalanceInfo={},t.vicedata.refundList=[],t.vicedata.payInfo={}})},computed:{sum:function(){var t=0;return this.$store.getters.cartList.forEach(function(e,i){t+=e.price*e.amount}),t},amount:function(){var t=0;return this.$store.getters.cartList.forEach(function(e,i){t+=e.amount}),t}},components:{}}},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},r=i(11),n=a(r),o=i(2),c=i(1),l=a(c),u=i(4),d=a(u),p=i(12),f=a(p);window.alipayInputType="machine",e.default={data:function(){return{totalPrice:"",netReceipts:"",wipingZeroInfo:"",wipingZeroAmount:"1",scanPrompt:!0,isBindAlipay:!1}},components:{bindalipay:n.default,LazyRender:f.default},created:function(){this.init(),this.initAliPayBindStatus()},computed:s({},(0,o.mapGetters)(["orderList","getWipingZeroStatus","getOriginalPrice","getWipingZeroBackNum","getTotalPrice"]),{getWipingZeroNum:function(){var t=this.getOriginalPrice-100*this.totalPrice,e=100*this.totalPrice;return this.$store.dispatch("setWipingZeroNum",t),this.$store.dispatch("setTotalPrice",e),this.$store.dispatch("setPayInfo"),t}}),methods:{init:function(){this.totalPrice=this.getWipingZeroStatus?(this.getTotalPrice/100).toFixed(2):(this.getOriginalPrice/100).toFixed(2),this.$store.dispatch("getPayType","2")},showScanPrompt:function(){this.scanPrompt=!this.scanPrompt,console.log(this.scanPrompt)},wipingZero:function(){this.$store.dispatch("getWipingZeroStatus"),this.$store.dispatch("getWipingZero"),this.getWipingZeroStatus?this.totalPrice=(this.getWipingZeroBackNum/100).toFixed(2):this.totalPrice=this.getOriginalPrice,this.$store.dispatch("setPayInfo")},updateqrcode:function(t){var e=t.target.value;l.default.isPositiveInteger(e)?(this.$store.dispatch("setPayCode",e),console.log(e)):l.default.toast("付款码错误","notice",2e3)},bindAlipay:function(){this.$store.dispatch("setShowBindAlipay")},initAliPayBindStatus:function(){var t=navigator.onLine,e=localStorage.getItem("bindalipay");if(t){d.default.isBindAlipayAccount().status?(this.isBindAlipay=!0,localStorage.setItem("bindalipay","true")):(this.isBindAlipay=!1,localStorage.setItem("bindalipay","false"))}else e&&"true"==e?this.isBindAlipay=!0:e&&"false"==e&&(this.isBindAlipay=!1)},storageCheckAliPayBindStatus:function(){var t=this;window.addEventListener("online",function(){t.initAliPayBindStatus()},!1)},inputfocus:function(t){window.alipayInputType="hand"},inputblur:function(t){window.alipayInputType="machine"}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},s=i(2);e.default={data:function(){return{totalPrice:"",netReceipts:""}},components:{},created:function(){this.init()},methods:{init:function(){this.totalPrice=this.getWipingZeroStatus?(this.getTotalPrice/100).toFixed(2):(this.getOriginalPrice/100).toFixed(2),this.$store.dispatch("getPayType","6")},showScanPrompt:function(){this.scanPrompt=!this.scanPrompt,console.log(this.scanPrompt)},wipingZero:function(){this.$store.dispatch("getWipingZeroStatus"),this.$store.dispatch("getWipingZero"),this.getWipingZeroStatus?this.totalPrice=(this.getWipingZeroBackNum/100).toFixed(2):this.totalPrice=this.getOriginalPrice,this.$store.dispatch("setPayInfo")},updataMark:function(t){var e=t.target.value;this.$store.dispatch("setMark",e)}},computed:a({},(0,s.mapGetters)(["orderList","getWipingZeroStatus","getOriginalPrice","getWipingZeroBackNum","getTotalPrice"]),{getWipingZeroNum:function(){var t=this.getOriginalPrice-100*this.totalPrice,e=100*this.totalPrice;return this.$store.dispatch("setWipingZeroNum",t),this.$store.dispatch("setTotalPrice",e),this.$store.dispatch("setPayInfo"),t}})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},s=i(2);e.default={data:function(){return{totalPrice:"",netReceipts:""}},created:function(){var t=this;document.onkeydown=function(e){e&&77==e.keyCode&&(t.wipingZero(),console.log("M"))},t.init()},methods:{init:function(){this.totalPrice=this.getWipingZeroStatus?(this.getTotalPrice/100).toFixed(2):(this.getOriginalPrice/100).toFixed(2),this.$store.dispatch("getPayType","1")},wipingZero:function(){this.$store.dispatch("getWipingZeroStatus"),this.$store.dispatch("getWipingZero"),this.getWipingZeroStatus?this.totalPrice=(this.getWipingZeroBackNum/100).toFixed(2):this.totalPrice=this.getOriginalPrice}},computed:a({},(0,s.mapGetters)(["orderList","getWipingZeroStatus","getOriginalPrice","getWipingZeroBackNum","getTotalPrice"]),{getWipingZeroNum:function(){var t=this.getOriginalPrice-100*this.totalPrice,e=100*this.totalPrice;return this.$store.dispatch("setWipingZeroNum",t),this.$store.dispatch("setTotalPrice",e),this.$store.dispatch("setPayInfo"),t},getChangeNum:function(){var t,e,i=100*this.netReceipts;return e=this.getWipingZeroStatus?100*this.totalPrice:this.getOriginalPrice,this.$store.dispatch("setNetReceipts",i),i>e?(t=i-e,this.$store.dispatch("setCheckChange",t),this.$store.dispatch("setPayInfo"),t):0}}),directives:{focus:{inserted:function(t){t.focus()}}},components:{}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},s=i(2);e.default={data:function(){return{totalPrice:"",netReceipts:""}},components:{},created:function(){this.init()},methods:{init:function(){this.totalPrice=this.getWipingZeroStatus?(this.getTotalPrice/100).toFixed(2):(this.getOriginalPrice/100).toFixed(2),this.$store.dispatch("getPayType","8")},showScanPrompt:function(){this.scanPrompt=!this.scanPrompt,console.log(this.scanPrompt)},wipingZero:function(){this.$store.dispatch("getWipingZeroStatus"),this.$store.dispatch("getWipingZero"),this.getWipingZeroStatus?this.totalPrice=(this.getWipingZeroBackNum/100).toFixed(2):this.totalPrice=this.getOriginalPrice,this.$store.dispatch("setPayInfo")},updataMark:function(t){var e=t.target.value;this.$store.dispatch("setMark",e)}},computed:a({},(0,s.mapGetters)(["orderList","getWipingZeroStatus","getOriginalPrice","getWipingZeroBackNum","getTotalPrice","getRemark"]),{getWipingZeroNum:function(){var t=this.getOriginalPrice-100*this.totalPrice,e=100*this.totalPrice;return this.$store.dispatch("setWipingZeroNum",t),this.$store.dispatch("setTotalPrice",e),this.$store.dispatch("setPayInfo"),t}})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},s=i(2);e.default={data:function(){return{totalPrice:"",netReceipts:""}},components:{},created:function(){this.init()},methods:{init:function(){this.totalPrice=this.getWipingZeroStatus?(this.getTotalPrice/100).toFixed(2):(this.getOriginalPrice/100).toFixed(2),this.$store.dispatch("getPayType","7")},showScanPrompt:function(){this.scanPrompt=!this.scanPrompt,console.log(this.scanPrompt)},wipingZero:function(){this.$store.dispatch("getWipingZeroStatus"),this.$store.dispatch("getWipingZero"),this.getWipingZeroStatus?this.totalPrice=(this.getWipingZeroBackNum/100).toFixed(2):this.totalPrice=this.getOriginalPrice,this.$store.dispatch("setPayInfo")},updataMark:function(t){var e=t.target.value;this.$store.dispatch("setMark",e)}},computed:a({},(0,s.mapGetters)(["orderList","getWipingZeroStatus","getOriginalPrice","getWipingZeroBackNum","getTotalPrice"]),{getWipingZeroNum:function(){var t=this.getOriginalPrice-100*this.totalPrice,e=100*this.totalPrice;return this.$store.dispatch("setWipingZeroNum",t),this.$store.dispatch("setTotalPrice",e),this.$store.dispatch("setPayInfo"),t}})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},s=i(2);e.default={data:function(){return{totalPrice:"",netReceipts:"",backBalance:"900.00",isEncryption:!1,isVip:!0,tips:"密码输入错误",spans:["","","","","",""],blinkLine:{left:"34px",display:"block"},styleObject2:{left:"0px"},password:"",map:{48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"}}},created:function(){this.init();var t=this;t.isEncryption&&(window.onkeydown=function(e){t.map[e.keyCode];if(8==e.keyCode)t.password.length>0&&(t.password=t.password.substr(0,t.password.length-1),t.spans[t.password.length]="");else{t.password+=e.key;var i=t.password.match(/\d{1,6}/g)||"";t.password=""==i?"":i[0],t.spans[t.password.length-1]="*"}6==t.password.length?(t.blinkLine.display="none",t.styleObject2.left="350px"):(t.blinkLine.display="block",t.blinkLine.left=70*t.password.length+34+"px",t.styleObject2.left=70*t.password.length+"px"),console.log(t.password)})},components:{},methods:{init:function(){this.totalPrice=this.getWipingZeroStatus?(this.getTotalPrice/100).toFixed(2):(this.getOriginalPrice/100).toFixed(2),console.log(this.getIsAllowMemberPrice),this.$store.dispatch("getPayType","5")},showScanPrompt:function(){this.scanPrompt=!this.scanPrompt,console.log(this.scanPrompt)},wipingZero:function(){this.$store.dispatch("getWipingZeroStatus"),this.$store.dispatch("getWipingZero"),this.getWipingZeroStatus?this.totalPrice=(this.getWipingZeroBackNum/100).toFixed(2):this.totalPrice=this.getOriginalPrice,this.$store.dispatch("setPayInfo")}},computed:a({},(0,s.mapGetters)(["orderList","getBalance","getIsAllowMemberPrice","getWipingZeroStatus","getOriginalPrice","getWipingZeroBackNum","getTotalPrice"]),{getWipingZeroNum:function(){var t=this.getOriginalPrice-100*this.totalPrice,e=100*this.totalPrice;return this.$store.dispatch("setWipingZeroNum",t),this.$store.dispatch("setTotalPrice",e),this.$store.dispatch("setPayInfo"),t}})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},s=i(2),r=i(1),n=function(t){return t&&t.__esModule?t:{default:t}}(r);window.weixinInputType="machine",e.default={data:function(){return{totalPrice:"",netReceipts:"",scanPrompt:!0,bindAlipay:!0}},created:function(){this.init()},computed:a({},(0,s.mapGetters)(["orderList","getWipingZeroStatus","getOriginalPrice","getWipingZeroBackNum","getTotalPrice"]),{getWipingZeroNum:function(){var t=this.getOriginalPrice-100*this.totalPrice,e=100*this.totalPrice;return this.$store.dispatch("setWipingZeroNum",t),this.$store.dispatch("setTotalPrice",e),this.$store.dispatch("setPayInfo"),t}}),methods:{init:function(){this.totalPrice=this.getWipingZeroStatus?(this.getTotalPrice/100).toFixed(2):(this.getOriginalPrice/100).toFixed(2),this.$store.dispatch("getPayType","3")},showScanPrompt:function(){this.scanPrompt=!this.scanPrompt,console.log(this.scanPrompt)},wipingZero:function(){this.$store.dispatch("getWipingZeroStatus"),this.$store.dispatch("getWipingZero"),this.getWipingZeroStatus?this.totalPrice=(this.getWipingZeroBackNum/100).toFixed(2):this.totalPrice=this.getOriginalPrice,this.$store.dispatch("setPayInfo")},updateqrcode:function(t){var e=t.target.value;n.default.isPositiveInteger(e)?(this.$store.dispatch("setPayCode",e),console.log(e)):n.default.toast("付款码错误","notice",2e3)},inputfocus:function(t){window.weixinInputType="hand"},inputblur:function(t){window.weixinInputType="machine"}}}},function(t,e,i){"use strict";var a=i(3),s=function(t){return t&&t.__esModule?t:{default:t}}(a);s.default.filter("formatMobile",function(t){return t.replace(/(\d{3})(\d{4})/,"$1 $2 ")}),s.default.filter("formatPrice",function(t,e){return(t/100).toFixed(e||2)}),s.default.filter("filterImg",function(t){return"http://imgsize.52shangou.com/img/"+t+"@100w_100h_90Q.jpg"}),s.default.filter("filterTime",function(t,e){if(!t)return"";var i=new Date(t),a=function(t){return(t<10?"0":"")+t};return e.replace(/yyyy|MM|dd|HH|mm|ss/g,function(t){switch(t){case"yyyy":return a(i.getFullYear());case"MM":return a(i.getMonth()+1);case"dd":return a(i.getDate());case"HH":return a(i.getHours());case"mm":return a(i.getMinutes());case"ss":return a(i.getSeconds())}})}),s.default.filter("formatproperty",function(t){return t.indexOf("未知")>-1?"":"("+t+")"}),s.default.filter("formatname",function(t){var e=document.body.clientWidth;return t&&t.length>10&&e<1024&&e>960?t.substr(0,8)+"..":t&&t.length>10&&e<960?t.substr(0,6)+"..":t&&t.length>10?t.substr(0,10)+"..":t})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={queryItemByBarcode:function(){return{status:!0,responseCode:0,message:"成功",entry:[{activityTags:"0",barcode:"6921168509254",bigPicUrl:"n/12/14/1481685845516_7979.jpg",brand:"农夫山泉",buyLimit:"",catId:"160",gmtCreate:"1490871076",gmtModify:"1490871076",isDelete:"0",itemCenterGmtCreate:"1488887527",itemCenterGmtModify:"1490434789",itemId:"100217002",itemName:"饮用天然水饮用天然水无法违法",memberPrice:"1000",price:"1200",msrp:"",picUrls:"n/10/28/1446012919287_9393.jpg",productionDate:"0",promotionEndTime:"1490434789",promotionPrice:"0",promotionStartTime:"1490434789",promotionStatus:"0",property:"550ml",quantity:"-4",shelfLife:"",spuId:"1466",status:"10",type:"0",unit:"瓶",createType:"2",isCommonItem:"0",attributeCc:"0",attributes:""}]}},deleteItemById:function(){return{entry:{},message:"操作成功",responseCode:47710,status:!0}},getVipInfo:function(){return{emptyIdentifier:1,entry:{accountId:29,attributeMap:{},attributes:"",balance:231488,discount:95,hasPassword:!0,hasSavingsAccount:!0,isAllowMemberPrice:!0,isAllowSdgMember:!1,isShopMember:!0,memberId:34,mobile:"13738034030",name:"闪电购客户",shopId:5473},message:"成功!",responseCode:0,status:!0}},getShiftUsers:function(){return{entry:[{attributeCc:"30",attributes:"",city:"杭州",gmtCreate:"1489990431",gmtModify:"1490069023",lastLoginTime:"1489990431",level:"200",mobile:"13819174647",password:"qwe123",realName:"",userId:"2235915"},{attributeCc:"30",attributes:"",city:"杭州",gmtCreate:"1489990431",gmtModify:"1490069023",lastLoginTime:"1489990431",level:"200",mobile:"13819174647",password:"qwe123",realName:"哈哈",userId:"2235914"},{attributeCc:"30",attributes:"",city:"杭州",gmtCreate:"1489990431",gmtModify:"1490069023",lastLoginTime:"1489990431",level:"200",mobile:"13819174647",password:"qwe123",realName:"一醉的测试店铺的闪电侠",userId:"2235913"},{attributeCc:"30",attributes:"",city:"杭州",gmtCreate:"1489990431",gmtModify:"1490069023",lastLoginTime:"1489990431",level:"200",mobile:"13819174647",password:"qwe123",realName:"tom",userId:"2235912"}],message:"操作成功",responseCode:0,status:!0}},goShift:function(){return{entry:{alipayPrice:0,attributeCc:"0",attributes:"",bankCardPrice:0,cashPrice:0,cityZenCardPrice:0,gmtCreate:"1490164699",id:"3",invoicePrice:0,nextUserId:"126397724",nextUserName:"来了",savingsCardPrice:0,sequence:"0",totalItemAmount:1,totalOrderAmount:1,totalPrice:"",userId:"2235916",userName:"樊少mm",weixinPrice:0},message:"默认错误",responseCode:0,status:!0}},queryLoginUserInfo:function(){return{entry:{loginType:1,mobile:"18521504883",realName:"小和山老板",userId:2235912},message:"默认错误",responseCode:0,status:!0}},unlockpos:function(){return{entry:{},message:"成功!",responseCode:0,status:!0}},getShopInfo:function(){return{entry:{attributeCc:"2",attributes:"",cookies:["_nss=1784e675fe57d3e6543a7651bd9b54aa;Domain=daily.52shangou.com;Path=/;Expires=Wed, 12-Apr-2017 12:14:20 GMT;","_uk=105300;Domain=.52shangou.com;Path=/;Expires=Mon, 09-Oct-2017 12:14:20 GMT;","_uk=105300;Domain=daily.52shangou.com;Path=/;Expires=Thu, 01-Jan-1970 00:00:00 GMT;","redcat_user_seller_mobile=18521504883;Domain=daily.52shangou.com;Path=/;Expires=Wed, 12-Apr-2017 12:14:20 GMT;"],gmtCreate:"1489406828",gmtModify:"1489407394",id:"1",isOnlineOrder:"1",isPrintWhenCount:"1",isRegister:"0",isSyncOnlineItemPrice:"0",itemSyncTime:"",ledDriverNames:{},msgId:"0",newItemNum:"",nextVersion:"0.0.25",printMargin:"0",printerDriver:"",printerDriverPath:"",printerType:"1",registerCode:"73b631740fc7c208",sequence:"0",shopAddress:"",shopId:"4645",shopName:"pos测试店铺",version:"0.0.25",vioceFlag:"1"},message:"哈哈哈",responseCode:0,status:!0}},getReportInfo:function(){return{entry:{alipayPrice:46887,bankCardPrice:1,cashPrice:1876,cityZenCardPrice:100,gmtCreate:"1490756697528",invoicePrice:12991,memberId:"",savingsCardPrice:2800,sequence:"12",totalItemAmount:"1",totalOrderAmount:108,totalPrice:270634,userId:2235916,userName:"樊少mm",weixinPrice:1834},message:"默认错误",responseCode:0,status:!0}},login:function(){return{entry:{attributeCc:"0",attributes:"",cookies:["_nss=56e3ee723fb8c381df9643f35e389a3b;Domain=daily.52shangou.com;Path=/;Expires=Wed, 12-Apr-2017 12:05:11 GMT;","_uk=105300;Domain=.52shangou.com;Path=/;Expires=Mon, 09-Oct-2017 12:05:11 GMT;","_uk=105300;Domain=daily.52shangou.com;Path=/;Expires=Thu, 01-Jan-1970 00:00:00 GMT;","redcat_user_seller_mobile=18521504883;Domain=daily.52shangou.com;Path=/;Expires=Wed, 12-Apr-2017 12:05:11 GMT;"],gmtCreate:"1489406828",gmtModify:"1489406845",id:"1",isOnlineOrder:"1",isPrintWhenCount:"1",isRegister:"0",isSyncOnlineItemPrice:"0",itemSyncTime:"",ledDriverNames:{},loginType:"1",msgId:"0",newItemNum:"",nextVersion:"0.0.25",printMargin:"0",printerDriver:"",printerDriverPath:"",printerType:"1",registerCode:"73b631740fc7c208",sequence:"0",shopAddress:"",shopId:"4645",shopName:"闪电购(测试店111店)",version:"0.0.25",vioceFlag:"1"},message:"登录成功",responseCode:0,status:!0}},queryLoginUserList:function(){return{entry:[{attributeCc:"7",attributes:{isSavePassword:"1"},city:"杭州",gmtCreate:"1489748212",gmtModify:"1489748811",lastLoginTime:"1489748212",level:"200",mobile:"12345678921",password:"123456789",realName:"樊少mm",userId:"2235916"},{attributeCc:"7",attributes:{isSavePassword:"1"},city:"杭州",gmtCreate:"1489748212",gmtModify:"1489748811",lastLoginTime:"1489748212",level:"200",mobile:"98765432100",password:"123456789",realName:"樊少mm",userId:"2235916"},{attributeCc:"7",attributes:{isSavePassword:"1"},city:"杭州",gmtCreate:"1489748212",gmtModify:"1489748811",lastLoginTime:"1489748212",level:"200",mobile:"18352963126",password:"123456789",realName:"樊少mm",userId:"2235916"},{attributeCc:"7",attributes:{isSavePassword:"0"},city:"杭州",gmtCreate:"1489748212",gmtModify:"1489748811",lastLoginTime:"1489748212",level:"200",mobile:"789321654",password:"123456789",realName:"樊少mm",userId:"2235916"}],status:!0}},queryPrintDeviceList:{entry:[{printDeviceName:"USB1",printDevicePath:"\\?\\usb#vid_0fe6&pid_811e#5&236b55b3&0&3#{a5dcbf10-6530-11d2-901f-00c04fb951ed}",printDeviceType:"1"},{printDeviceName:"USB1",printDevicePath:"\\?\\usb#vid_0fe6&pid_811e#5&236b55b3&0&3#{a5dcbf10-6530-11d2-901f-00c04fb951ed}",printDeviceType:"1"},{printDeviceName:"USB1",printDevicePath:"\\?\\usb#vid_0fe6&pid_811e#5&236b55b3&0&3#{a5dcbf10-6530-11d2-901f-00c04fb951ed}",printDeviceType:"1"},{printDeviceName:"USB1",printDevicePath:"\\?\\usb#vid_0fe6&pid_811e#5&236b55b3&0&3#{a5dcbf10-6530-11d2-901f-00c04fb951ed}",printDeviceType:"1"},{printDeviceName:"USB1",printDevicePath:"\\?\\usb#vid_0fe6&pid_811e#5&236b55b3&0&3#{a5dcbf10-6530-11d2-901f-00c04fb951ed}",printDeviceType:"1"},{printDeviceName:"USB1",printDevicePath:"\\?\\usb#vid_0fe6&pid_811e#5&236b55b3&0&3#{a5dcbf10-6530-11d2-901f-00c04fb951ed}",printDeviceType:"1"}],message:"",responseCode:0,status:!0},updateConfig:function(){return{message:"保存成功",responseCode:0,status:!0}},getOrderByRuler:function(){return{entry:[{actualPay:"21000",bizOrderId:"1",bizOrderName:"新升级草木纯品",buyAmount:"2",buyerId:"0",buyerNick:"未知",cashierId:"2235916",gmtCreate:"1491381638",gmtModify:"1491381638",memberId:"0",memberMobile:"",memberNick:"",onlineBizOrderId:"",orderType:"1",originPrice:"20000",registerCode:"9",remark:"",sequence:"8",shopId:"5473",shopName:"樊少的店铺",status:"2",totalPrice:"20000",orderFundList:[{bizOrderId:"1",cashierId:"2235916",fund:"20000",fundType:"1",gmtCreate:"1491381638",id:"1",platformSubsidy:"21000",sellerSubsidy:"0",shopId:"5473",attributeCc:"0",attributes:""}],payTypeList:[{actualPay:"21000",bizOrderId:"1",cashierId:"2235916",gmtCreate:"1491381638",gmtModify:"1491381638",id:"1",onlineBizOrderId:"",payFund:"20000",payId:"",payQrCode:"",payStatus:"2",payTime:"",payType:"1",registerCode:"9",attributeCc:"0",attributes:""}],subBizOrderList:[{barcode:"6922266440090",bizOrderId:"1",buyAmount:"2",cashierId:"2235916",gmtCreate:"1491381638",gmtModify:"1491381638",itemId:"5529896",itemName:"新升级草木纯品",itemOriginPrice:"10000",itemPrice:"",subBizOrderId:"1",totalPrice:"",unit:"袋",attributeCc:"0",attributes:""}],attributeCc:"0",attributes:""}],message:1,responseCode:1,status:!0}},createOnlineItem:function(){return{status:!0,responseCode:0,message:"成功",entry:[{activityTags:"",barcode:"6921168509254",bigPicUrl:"",brand:"",buyLimit:"",catId:"",gmtCreate:"",gmtModify:"",isDelete:"",itemCenterGmtCreate:"",itemCenterGmtModify:"",itemId:"100258801",itemName:"",memberPrice:"",msrp:"",picUrls:"",price:"",productionDate:"",promotionEndTime:"",promotionPrice:"",promotionStartTime:"",promotionStatus:"",property:"",quantity:"",shelfLife:"",spuId:"",status:"",type:"",unit:"",createType:"1",isCommonItem:"0",attributeCc:"0",attributes:""},{activityTags:"",barcode:"7318690054171",bigPicUrl:"",brand:"",buyLimit:"",catId:"",gmtCreate:"",gmtModify:"",isDelete:"",itemCenterGmtCreate:"",itemCenterGmtModify:"",itemId:"100258802",itemName:"",memberPrice:"",msrp:"",picUrls:"",price:"",productionDate:"",promotionEndTime:"",promotionPrice:"",promotionStartTime:"",promotionStatus:"",property:"",quantity:"",shelfLife:"",spuId:"",status:"",type:"",unit:"",createType:"1",isCommonItem:"0",attributeCc:"0",attributes:""}]}},queryLastShiftHandover:function(){return{entry:[{attributeCc:1,attributes:1,bankCardPrice:85032,cashPrice:40631,cityZenCardPrice:83884,gmtCreate:1491618048918,id:18064,invoicePrice:62267,nextUserId:37024,nextUserName:"测试内容8957",savingsCardPrice:11651,sequence:1,totalItemAmount:61402,totalOrderAmount:82260,totalPrice:57233,userId:14500,userName:"测试内容c13b",weixinPrice:20788,alipayPrice:"3999"}],message:"message",responseCode:"responseCode",status:!0}},payOrder:function(){return{entry:"333",message:"支付成功!",responseCode:"400",status:!0}},isBindAlipayAccount:function(){return{entry:{appAuthToken:"201703BB92f55ef552384d0bb11337c6f3da8X33",appRefreshToken:"201703BBd6b16dc4f4594d748e9773705c6a6X33",attributeCc:6,attributes:"",authAppId:"2017010704917118",expiresIn:31536e3,gmtCreate:1490858819e3,id:20,reExpiresIn:32140800,shopId:5473,userId:"2088102649611332"},message:"操作成功",responseCode:1,status:!0}}}},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function s(t){if(null==t)throw new TypeError("Cannot destructure undefined")}var r=i(3),n=a(r),o=i(18),c=a(o),l=i(20),u=a(l),d=i(21),p=a(d);i(19),n.default.directive("focus",{inserted:function(t,e,i,a){s(e),t.focus()}}),new n.default({router:u.default,el:"#app",store:p.default,template:"<App/>",components:{App:c.default}})},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getShiftUsers=e.clearRefundData=e.toBuildRefundOrder=e.setRefundEditType=e.setRefundBalanceInfo=e.setDistillData=e.cancelVipInfo=e.getVipInfo=e.toBuildPayOrder=e.toggleItemCurrent=e.clearCartList=e.setBalanceInfo=e.editItemPrice=e.editItemAmount=e.setItemEditType=e.delCartItemFromList=e.getItemByBarcode=e.setNetWorkStatus=void 0;var s=function(){function t(t,e){var i=[],a=!0,s=!1,r=void 0;try{for(var n,o=t[Symbol.iterator]();!(a=(n=o.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{!a&&o.return&&o.return()}finally{if(s)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=i(4),n=a(r),o=i(1),c=a(o);e.setNetWorkStatus=function(t,e){return(0,t.commit)("SET_NETWORT_STATUS",e)},e.getItemByBarcode=function(t,e){var i=t.commit,a=e[0],s=e[1],r=n.default.queryItemByBarcode(a);if(r.status)return i("GET_ITEM_BY_BARCODE",[r,s]);c.default.toast(r.message,"failed",1e3)},e.delCartItemFromList=function(t,e){return(0,t.commit)("DEL_CART_ITEM_FROM_LIST",[e[0],e[1]])},e.setItemEditType=function(t,e){return(0,t.commit)("SET_ITEM_EDIT_TYPE",e)},e.editItemAmount=function(t,e){var i=t.commit,a=s(e,3);return i("EDIT_ITEM_AMOUNT",[a[0],a[1],a[2]])},e.editItemPrice=function(t,e){var i=t.commit,a=s(e,3);return i("EDIT_ITEM_PRICE",[a[0],a[1],a[2]])},e.setBalanceInfo=function(t){return(0,t.commit)("SET_BALANCE_INFO")},e.clearCartList=function(t){return(0,t.commit)("CLEAR_CARTLIST")},e.toggleItemCurrent=function(t,e){return(0,t.commit)("TOGGLE_ITEM_CURRENT",e)},e.toBuildPayOrder=function(t,e){return(0,t.commit)("TO_BUILD_PAY_ORDER",e)},e.getVipInfo=function(t,e){var i=t.commit,a=n.default.getVipInfo(e);if(a.status)return i("GET_VIP_INFO",a)},e.cancelVipInfo=function(t){return(0,t.commit)("CANCEL_VIP_INFO")},e.setDistillData=function(t,e){return(0,t.commit)("SET_DISTILL_DATA",e)},e.setRefundBalanceInfo=function(t){return(0,t.commit)("SET_REFUND_BALANCE_INFO")},e.setRefundEditType=function(t,e){return(0,t.commit)("SET_REFUND_EDIT_TYPE",e)},e.toBuildRefundOrder=function(t,e){return(0,t.commit)("TO_BUILD_REFUND_ORDER",e)},e.clearRefundData=function(t){return(0,t.commit)("CLEAR_REFUND_DATA")},e.getShiftUsers=function(t){return(0,t.commit)("GET_SHIFT_USERS",n.default.getShiftUsers())}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getNetWorkStatus=function(t){return t.netWorkStatus},e.cartList=function(t){return t.cartList},e.editType=function(t){return t.editType},e.balanceInfo=function(t){return t.balanceInfo},e.vipInfo=function(t){return t.vipInfo},e.refundList=function(t){return t.refundList},e.refundBalanceInfo=function(t){return t.refundBalanceInfo},e.refundEditType=function(t){return t.refundEditType},e.shiftUsers=function(t){return t.shiftUsers}},function(t,e,i){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var s=i(129),r=a(s),n=i(130),o=a(n),c=i(133),l=function(t){return t&&t.__esModule?t:{default:t}}(c),u={netWorkStatus:!1,editType:"",cartList:[],vipInfo:{},sumNum:0,balanceInfo:{},holdList:[],refundList:[],refundBalanceInfo:{},refundEditType:"",shiftUsers:[],payType:""};e.default={state:u,actions:r,getters:o,mutations:l.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SET_NETWORT_STATUS="SET_NETWORT_STATUS",e.GET_ITEM_BY_BARCODE="GET_ITEM_BY_BARCODE",e.DEL_CART_ITEM_FROM_LIST="DEL_CART_ITEM_FROM_LIST",e.SET_ITEM_EDIT_TYPE="SET_ITEM_EDIT_TYPE",e.EDIT_ITEM_AMOUNT="EDIT_ITEM_AMOUNT",e.EDIT_ITEM_PRICE="EDIT_ITEM_PRICE",e.CLEAR_CARTLIST="CLEAR_CARTLIST",e.TOGGLE_ITEM_CURRENT="TOGGLE_ITEM_CURRENT",e.GET_VIP_INFO="GET_VIP_INFO",e.CANCEL_VIP_INFO="CANCEL_VIP_INFO",e.SET_BALANCE_INFO="SET_BALANCE_INFO",e.TO_BUILD_PAY_ORDER="TO_BUILD_PAY_ORDER",e.SET_DISTILL_DATA="SET_DISTILL_DATA",e.SET_REFUND_BALANCE_INFO="SET_REFUND_BALANCE_INFO",e.SET_REFUND_EDIT_TYPE="SET_REFUND_EDIT_TYPE",e.TO_BUILD_REFUND_ORDER="TO_BUILD_REFUND_ORDER",e.CLEAR_REFUND_DATA="CLEAR_REFUND_DATA",e.GET_SHIFT_USERS="GET_SHIFT_USERS"},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){var i=!1;return t.forEach(function(t){if(t.barcode===e.barcode)return i=!0,!1}),i}function n(t,e){var i={};return r(t,e)?(t.forEach(function(t){t.barcode===e.barcode&&(i=t)}),i):e}function o(t,e){var i={};return t.forEach(function(t){t.barcode===e&&(i=t)}),i}function c(t,e){var i={};return t.forEach(function(t){t.itemId===e&&(i=t)}),i}function l(t){var e={};return t.forEach(function(t){t.isCurrent&&(e=t)}),e}function u(t,e){if(r(t,e)){var i="";return t.forEach(function(t,a){t.itemId==e.itemId&&(i=a)}),i}}function d(t,e){void 0==c(t,e.itemId).amount&&(c(t,e.itemId).amount=1);var i=n(t,e);return i.amount=i.amount+1,t.splice(u(t,e),1),t.unshift(i),t}function p(t,e){var i=t.length,a={};t.forEach(function(s,r){s.isCurrent&&("up"==e?a=0==r?t[i-1]:t[r-1]:"down"==e&&(a=r==i-1?t[0]:t[r+1]),s.isCurrent=!1)}),a.isCurrent=!0}function f(t){var e=t[0];return t.forEach(function(t){parseInt(e.itemCenterGmtModify)<parseInt(t.itemCenterGmtModify)?e=t:parseInt(e.itemId)<parseInt(t.itemId)&&(e=t)}),e}function v(t){var e=[],i=[];if(t.forEach(function(t){"100"==t.status?e.push(t):i.push(t)}),1==e.length)return y.default.deleteItemById(String(e[0].itemId)),e[0];if(e.length>1){var a=f(e),s=[];return t.forEach(function(t){t.itemId!=a.itemId&&s.push(t.itemId)}),y.default.deleteItemById(s.toString()),a}if(0==e.length){var a=f(i),s=[];return t.forEach(function(t){t.itemId!=a.itemId&&s.push(t.itemId)}),y.default.deleteItemById(s.toString()),a}}Object.defineProperty(e,"__esModule",{value:!0});var m,h=function(){function t(t,e){var i=[],a=!0,s=!1,r=void 0;try{for(var n,o=t[Symbol.iterator]();!(a=(n=o.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{!a&&o.return&&o.return()}finally{if(s)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=i(132),g=i(4),y=a(g),b=i(1),C=a(b),P=(m={},s(m,_.SET_NETWORT_STATUS,function(t,e){t.netWorkStatus=e}),s(m,_.GET_ITEM_BY_BARCODE,function(t,e){var i=e[0],a=e[1];if(1==i.entry.length)"1"==i.entry[0].isCommonItem?(i.entry[0].amount=1,t.editType="price",t[a].unshift(i.entry[0])):0==t[a].length?(i.entry[0].amount=1,t[a]=i.entry):t[a].length>0&&(r(t[a],i.entry[0])?t[a]=d(t[a],i.entry[0]):(i.entry[0].amount=1,t[a].unshift(i.entry[0])));else if(i.entry.length>1){var s=v(i.entry);0==t[a].length?(s.amount=1,t[a].push(s)):t[a].length>0&&(r(t[a],s)?t[a]=d(t[a],s):t[a].unshift(s))}t[a].forEach(function(t){t.isCurrent&&(t.isCurrent=!1)}),t[a][0].isCurrent=!0}),s(m,_.DEL_CART_ITEM_FROM_LIST,function(t,e){var i=e[0],a=e[1],s=i?o(t[a],i):l(t[a]);p(t[a],"down"),t[a].splice(u(t[a],s),1)}),s(m,_.SET_ITEM_EDIT_TYPE,function(t,e){t.editType=e}),s(m,_.EDIT_ITEM_AMOUNT,function(t,e){var i=h(e,3),a=i[0],s=i[1],r=i[2];o(t[r],s).amount=a,"cartList"==r?t.editType="":"refundList"==r&&(t.refundEditType="")}),s(m,_.EDIT_ITEM_PRICE,function(t,e){var i=h(e,3),a=i[0],s=i[1],r=i[2];o(t[r],s).itemPrice=a,"cartList"==r?t.editType="":"refundList"==r&&(t.refundEditType="")}),s(m,_.GET_VIP_INFO,function(t,e){t.vipInfo=e.entry}),s(m,_.CANCEL_VIP_INFO,function(t,e){t.vipInfo={}}),s(m,_.SET_BALANCE_INFO,function(t){var e=t.cartList,i=t.vipInfo,a=!(!i||!i.isAllowMemberPrice)&&i.isAllowMemberPrice,s=i&&i.discount&&a?parseInt(i.discount):100,r=0,n=0,o=0,c=0,l=0,u=0;if(e.forEach(function(t){u+=t.itemPrice?parseInt(t.itemPrice):parseInt(t.price)*parseInt(t.amount),r+=parseInt(t.amount),t.showPrice=t.price,t.showPriceNoMember=t.price,t.itemPrice&&t.itemPrice!=t.price?(t.showPrice=t.itemPrice,t.showPriceNoMember=t.itemPrice):!t.itemPrice&&a&&parseInt(t.memberPrice)<parseInt(t.price)&&"0"===t.isCommonItem&&(t.showPrice=t.memberPrice),n+=parseInt(t.showPrice)*parseInt(t.amount),t.salesPrice=Math.floor(parseInt(t.showPrice)*s/100),o+=parseInt(t.salesPrice)*parseInt(t.amount),c+=parseInt(t.showPriceNoMember)*parseInt(t.amount)}),l=c-o,t.balanceInfo={num:r,showTotalPrice:n,salesTotalPrice:o,showTotalPriceNoMember:c,vipSave:l,originPrice:u},e.length>0){var d={vicestatus:"tocart",cartList:e,balanceInfo:t.balanceInfo,vipInfo:t.vipInfo,payInfo:{}};localStorage.setItem("vicedata",JSON.stringify(d)?JSON.stringify(d):"")}else{var d={vicestatus:"default",cartList:e,balanceInfo:t.balanceInfo,vipInfo:t.vipInfo,payInfo:{}};localStorage.setItem("vicedata",JSON.stringify(d)?JSON.stringify(d):"")}}),s(m,_.CLEAR_CARTLIST,function(t){t.cartList=[],localStorage.setItem("cartList","")}),s(m,_.TOGGLE_ITEM_CURRENT,function(t,e){p(t.cartList,e)}),s(m,_.TO_BUILD_PAY_ORDER,function(t,e){var i=t.vipInfo?t.vipInfo:{},a=t.cartList,s=t.balanceInfo,r=[],n=0,o=[];if(0!=t.cartList.length){a.forEach(function(t){r.push(t.itemName),n+=parseInt(t.amount);var e={itemId:t.itemId,barcode:t.barcode,buyAmount:t.amount,itemName:t.itemName,itemOriginPrice:t.itemPrice?t.itemPrice:t.price,itemOriginPriceNoModify:t.price,itemPrice:t.salesPrice,unit:t.unit,totalPrice:parseInt(t.salesPrice)*parseInt(t.amount)<1?1:parseInt(t.salesPrice)*parseInt(t.amount)};o.push(e)});var c={accountId:i&&i.accountId?i.accountId:" ",bizOrder:{actualPay:"",bizOrderName:r.join(",").length>255?r.join(",").substr(0,255):r.join(","),buyAmount:n,memberId:i&&i.memberId?i.memberId:"",memberMobile:i&&i.mobile?i.mobile:"",memberNick:i&&i.name?i.name:"",orderFundList:[],orderType:e,originPrice:s.originPrice,payTypeList:[],remark:"",subBizOrderList:o,totalPrice:s.salesTotalPrice}},l=[];t.cartList&&t.cartList.forEach(function(t){if("2"==t.createType){var e=t.itemId,i=t.itemPrice;y.default.updateItemPrice(e,i)}else"3"==t.createType&&l.push(t)});var u=l.length>0?y.default.createOnlineItem(l):{};u.status&&(t.cartList.forEach(function(t){u.entry&&u.entry.forEach(function(e){"3"==t.createType&&t.barcode==e.barcode&&(t.itemId=e.itemId)})}),c&&c.bizOrder&&c.bizOrder.subBizOrderList.forEach(function(t){u.entry&&u.entry.forEach(function(e){t.barcode==e.barcode&&(t.itemId=e.itemId)})})),c.balanceInfo=t.balanceInfo,c.vipInfo=t.vipInfo,y.default.payOrder(c),localStorage.setItem("orderList",JSON.stringify(c)?JSON.stringify(c):"")}}),s(m,_.SET_DISTILL_DATA,function(t,e){0!=e.length?(t.cartList=e.cartList?e.cartList:[],t.vipInfo=e.vipInfo?e.vipInfo:{},t.balanceInfo=e.balanceInfo?e.balanceInfo:{}):(t.cartList=[],t.vipInfo={},t.balanceInfo={}),localStorage.setItem("distillholdlist","")}),s(m,_.SET_REFUND_BALANCE_INFO,function(t){var e=t.refundList,i=0,a=0;t.refundList.length>0&&e.forEach(function(t){a+=parseInt(t.amount),t.itemPrice?i+=parseInt(t.itemPrice)*parseInt(t.amount):i+=parseInt(t.price)*parseInt(t.amount)});var s={sum:C.default.floorNum(i),num:a};if(t.refundBalanceInfo=s,t.refundList.length>0){var r={vicestatus:"torefund",refundBalanceInfo:t.refundBalanceInfo,refundList:t.refundList};localStorage.setItem("vicedata",JSON.stringify(r)?JSON.stringify(r):"")}else{var r={vicestatus:"default"};localStorage.setItem("vicedata",JSON.stringify(r)?JSON.stringify(r):"")}}),s(m,_.SET_REFUND_EDIT_TYPE,function(t,e){t.refundEditType=e}),s(m,_.TO_BUILD_REFUND_ORDER,function(t,e){var i=t.refundList,a=t.refundBalanceInfo,s="",r=0,n=[];if(0!=t.refundList.length){i.forEach(function(t){s+=t.itemName,r+=parseInt(t.amount);var e=t.price;t.itemPrice&&t.itemPrice!=t.price&&(e=t.itemPrice);var i={itemId:t.itemId,barcode:t.barcode,buyAmount:t.amount,itemName:t.itemName,itemOriginPrice:t.price,itemPrice:e,unit:t.unit,totalPrice:parseInt(e)*parseInt(t.amount)};n.push(i)});var o={bizOrder:{actualPay:"",bizOrderName:s,buyAmount:r,memberId:"",memberMobile:"",memberNick:"",orderFundList:[],orderType:e,originPrice:a.sum,payTypeList:[],remark:"",subBizOrderList:n,totalPrice:a.sum}};o.bizOrder.orderFundList=[],o.bizOrder.actualPay=o.bizOrder.totalPrice;var c={fund:o.bizOrder.totalPrice,fundType:"1",platformSubsidy:o.bizOrder.totalPrice,sellerSubsidy:"0"};o.bizOrder.orderFundList.push(c);var l={actualPay:o.bizOrder.totalPrice,payFund:o.bizOrder.totalPrice,payQrCode:"",payType:"1"};o.bizOrder.payTypeList.push(l),y.default.payOrder("",o.bizOrder),localStorage.setItem("orderList",JSON.stringify(o)?JSON.stringify(o):"")}}),s(m,_.CLEAR_REFUND_DATA,function(t){t.refundList=[],t.refundBalanceInfo={},t.refundEditType=""}),s(m,_.GET_SHIFT_USERS,function(t,e){e.status&&0!=e.entry.length?t.shiftUsers=e.entry:t.shiftUsers=[],localStorage.setItem("shiftUsers","[]"!=JSON.stringify(t.shiftUsers)?JSON.stringify(t.shiftUsers):"")}),m);e.default=P},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getWipingZeroStatus=function(t,e){return(0,t.commit)("WIPING_ZERO_STATUS",e)},e.getWipingZero=function(t,e){return(0,t.commit)("WIPING_ZERO",e)},e.setCheckChange=function(t,e){return(0,t.commit)("CHECK_CHANGE",e)},e.setNetReceipts=function(t,e){return(0,t.commit)("NET_RECEIPTS",e)},e.getPayType=function(t,e){return(0,t.commit)("GET_PAY_TYPE",e)},e.getCardList=function(t,e){return(0,t.commit)("GET_NET_RECEIPTS",e)},e.setWipingZeroNum=function(t,e){return(0,t.commit)("WIPING_ZERO_NUM",e)},e.setTotalPrice=function(t,e){return(0,t.commit)("TOTAL_PRICE",e)},e.finishPay=function(t,e){return(0,t.commit)("FINISH_PAY",e)},e.setOrderlist=function(t,e){return(0,t.commit)("SET_ORDER_LIST",e)},e.setPayCode=function(t,e){return(0,t.commit)("SET_PAY_CODE",e)},e.setMark=function(t,e){return(0,t.commit)("SET_MARK",e)},e.setShowBindAlipay=function(t){return(0,t.commit)("SET_SHOW_BIND_ALIPAY")},e.setPayInfo=function(t){return(0,t.commit)("SET_PAY_INFO")},e.setVicestatus=function(t,e){return(0,t.commit)("SET_VICESTATUS",e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.orderList=function(t){return t.orderList},e.getWipingZeroStatus=function(t){return t.wipingZeroStatus},e.getOriginalPrice=function(t){return t.originalPrice},e.getWipingZeroBackNum=function(t){return t.wipingZeroBackNum},e.getWipingZeroNums=function(t){return t.wipingZeroNum},e.getNetReceipts=function(t){return t.netReceipts},e.getChangeNum=function(t){return t.changeNum},e.getPayType=function(t){return t.payType},e.getTotalPrice=function(t){return t.totalPrice},e.getRemark=function(t){return t.remark},e.getBalance=function(t){return t.orderList.vipInfo&&t.orderList.vipInfo.balance},e.getIsAllowMemberPrice=function(t){return t.orderList.vipInfo&&t.orderList.vipInfo.isAllowMemberPrice},e.getShowBindAlipay=function(t){return t.showBindAlipay}},function(t,e,i){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var s=i(134),r=a(s),n=i(135),o=a(n),c=i(138),l=function(t){return t&&t.__esModule?t:{default:t}}(c),u={orderList:"",payCode:"",showBindAlipay:!1,wipingZeroStatus:!1,originalPrice:"",wipingZeroBackNum:"",wipingZeroNum:0,totalPrice:"",netReceipts:"",changeNum:"",payType:"",vipsave:"",vicestatus:"topay",isPaying:!1};e.default={state:u,actions:r,getters:o,mutations:l.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.WIPING_ZERO_STATUS="WIPING_ZERO_STATUS",e.WIPING_ZERO="WIPING_ZERO",e.CHECK_CHANGE="CHECK_CHANGE",e.UPDATA_PAY="UPDATA_PAY",e.NET_RECEIPTS="NET_RECEIPTS",e.GET_PAY_TYPE="GET_PAY_TYPE",e.FINISH_PAY="FINISH_PAY",e.SET_ORDER_LIST="SET_ORDER_LIST",e.SET_PAY_CODE="SET_PAY_CODE",e.WIPING_ZERO_NUM="WIPING_ZERO_NUM",e.TOTAL_PRICE="TOTAL_PRICE",e.SET_MARK="SET_MARK",e.SET_SHOW_BIND_ALIPAY="SET_SHOW_BIND_ALIPAY",e.SET_PAY_INFO="SET_PAY_INFO",e.SET_VICESTATUS="SET_VICESTATUS"},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var r,n=i(137),o=i(4),c=a(o),l=i(1),u=a(l),d=0,p=null,f=(r={},s(r,n.WIPING_ZERO,function(t){u.default&&u.default.wipingZero&&(t.wipingZeroBackNum=u.default.wipingZero(t.originalPrice),t.wipingZeroNum=1*parseInt(t.originalPrice)-1*parseInt(t.wipingZeroBackNum))}),s(r,n.WIPING_ZERO_STATUS,function(t,e){e?("1"==e&&(t.wipingZeroStatus=!0),"0"==e&&(t.wipingZeroStatus=!1)):t.wipingZeroStatus=!t.wipingZeroStatus,t.wipingZeroStatus?t.totalPrice=t.wipingZeroBackNum:t.totalPrice=t.originalPrice}),s(r,n.NET_RECEIPTS,function(t,e){t.netReceipts=e}),s(r,n.CHECK_CHANGE,function(t,e){t.changeNum=e}),s(r,n.TOTAL_PRICE,function(t,e){t.totalPrice=e}),s(r,n.WIPING_ZERO_NUM,function(t,e){t.wipingZeroNum=e}),s(r,n.SET_SHOW_BIND_ALIPAY,function(t){t.showBindAlipay=!t.showBindAlipay}),s(r,n.UPDATA_PAY,function(t,e){}),s(r,n.GET_PAY_TYPE,function(t,e){t.payType=e}),s(r,n.FINISH_PAY,function(t,e){if(!t.isPaying){t.isPaying=!0;var i=t.orderList,a=t.orderList.accountId,s=t.wipingZeroStatus?t.totalPrice:t.originalPrice;if(i.bizOrder.actualPay=t.netReceipts?t.netReceipts:t.originalPrice,i.bizOrder.orderFundList=[],i.bizOrder.payTypeList=[],t.originalPrice){var r={fund:s,fundType:"1",platformSubsidy:s,sellerSubsidy:"0"};i.bizOrder.orderFundList.push(r)}if(t.wipingZeroStatus&&"0.0"!=t.wipingZeroNum){var r={fund:t.wipingZeroNum,fundType:"14",platformSubsidy:"0",sellerSubsidy:t.wipingZeroNum};i.bizOrder.orderFundList.push(r),i.bizOrder.totalPrice=t.totalPrice}if(t.orderList.vipInfo.isAllowMemberPrice){var r={fund:parseFloat(t.orderList.balanceInfo.vipSave),fundType:"15",platformSubsidy:"0",sellerSubsidy:parseFloat(t.orderList.balanceInfo.vipSave)};i.bizOrder.orderFundList.push(r)}if("1"==t.payType){var r={actualPay:t.netReceipts,payFund:s,payQrCode:"",payType:"1"};i.bizOrder.payTypeList.push(r)}if("2"==t.payType){var r={actualPay:s,payFund:s,payQrCode:t.payCode,payType:"2"};i.bizOrder.payTypeList.push(r),i.bizOrder.actualPay=s}if("3"==t.payType){var r={actualPay:s,payFund:s,payQrCode:t.payCode,payType:"3"};i.bizOrder.payTypeList.push(r),i.bizOrder.actualPay=s}if("5"==t.payType){var r={actualPay:s,payFund:s,payType:"5"};i.bizOrder.payTypeList.push(r),i.bizOrder.actualPay=s}if("6"==t.payType){var r={actualPay:s,payFund:s,payType:"6"};i.bizOrder.payTypeList.push(r),i.bizOrder.actualPay=s,i.bizOrder.remark=t.mark}if("7"==t.payType){var r={actualPay:s,payFund:s,payType:"7"};i.bizOrder.payTypeList.push(r),i.bizOrder.actualPay=s,i.bizOrder.remark=t.mark}if("8"==t.payType){var r={actualPay:s,payFund:s,payType:"8"};i.bizOrder.payTypeList.push(r),i.bizOrder.actualPay=s,i.bizOrder.remark=t.mark}var n=c.default.payOrder(a,i.bizOrder);if(n.status)t.vicestatus="paysuc",t.payType="",e[0](),u.default.toast("支付成功","succeed",2e3,function(){e[1]()});else{var o=n.responseCode,l=n.entry?n.entry:"";401==o||403==o?u.default.toast(n.message,"failed",2e3):400==o?p=setInterval(function(){if(d>=10)return c.default.cancelOrder(l),window.clearInterval(p),void(d=0);console.log("count :"+d),console.log("totalCount :10"),d++;var i=c.default.loopCheckPayStatus(l);i.status?(clearInterval(p),d=0,t.vicestatus="paysuc",t.payType="",e[0](),u.default.toast("支付成功","succeed",2e3,function(){e[1]()})):401==i.responseCode||403==i.responseCode?(clearInterval(p),d=0):i.responseCode},3e3):u.default.toast(n.message,"failed",2e3)}t.isPaying=!1}}),s(r,n.SET_ORDER_LIST,function(t,e){t.orderList=e,t.originalPrice=e&&e.bizOrder&&e.bizOrder.totalPrice?e.bizOrder.totalPrice:0}),s(r,n.SET_PAY_CODE,function(t,e){t.payCode=e}),s(r,n.SET_MARK,function(t,e){t.mark=e}),s(r,n.SET_PAY_INFO,function(t){var e={vicestatus:t.vicestatus,payInfo:{totalPrice:t.wipingZeroStatus?t.totalPrice:t.originalPrice,netReceipts:t.netReceipts,wipingZeroNum:t.wipingZeroNum,changeNum:t.changeNum}};localStorage.setItem("vicedata",JSON.stringify(e)?JSON.stringify(e):"");var i=JSON.parse(localStorage.getItem("vicedata"));console.log(i)}),s(r,n.SET_VICESTATUS,function(t,e){t.vicestatus=e}),r);e.default=f}],[128]);